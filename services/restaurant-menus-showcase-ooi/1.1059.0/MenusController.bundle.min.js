!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MenusController=t():e.MenusController=t()}(self,()=>(()=>{var e={76:(e,t,n)=>{var i=n(998).default,a=n(921);e.exports=function(e){var t=a(e,"string");return"symbol"==i(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},921:(e,t,n)=>{var i=n(998).default;e.exports=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},929:(e,t,n)=>{var i=n(76);e.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},998:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="https://static.parastorage.com/services/restaurant-menus-showcase-ooi/bbba7aed7bfb385a878922bd49c6b2f2b3eae496b24fe27e622ebe4c/";var i={};return(()=>{"use strict";n.r(i),n.d(i,{controller:()=>Ms,default:()=>Ls,descriptor:()=>Cs,wrap:()=>Os});const e=e=>e.split("#");const t=/{(.*)}/,a=new RegExp(`\\.(${["wix.com","editorx.com"].join("|")})$`),r=new RegExp(`\\.(${["42.wixprod.net","uw2-edt-1.wixprod.net"].join("|")})$`),o=new RegExp(".*\\.dev.wix-code.com$");function s(e){const n=function(e,t){const n=t[e]||t._;if(n)return n;const i=function(e,t){return Object.entries(t).find(([t])=>{const[n,...i]=e.split(".");return i.join(".")===t})?.[1]}(e,t);if(!i&&function(e){return!!e.match(/\._base_domain_$/)}(e))return t[u];return i??[]}(function(e){return e.replace("create.editorx.com","editor.editorx.com")}(e.host).replace(a,"._base_domain_").replace(r,"._api_base_domain_").replace(o,"*.dev.wix-code.com"),e.domainToMappings);var i,s;return function(e,t){const n=t?.find(t=>e.startsWith(t.destPath));if(!n)return e;return n.srcPath+e.slice(n.destPath.length)}((i=e.protoPath,s=e.data||{},i.split("/").map(e=>function(e,n){const i=e.match(t)||[],a=i[1];if(a){const t=e.replace(i[0],"");return function(e,t,n,i){let a=e;for(const e of t.split(".")){if(!a)return n;a=a[e]}return`${a}${i}`}(n,a,e,t)}return e}(e,s)).join("/")),n)}const u="www._base_domain_",l="function"==typeof Buffer,c=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),d=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),p=(e=>{let t={};return e.forEach((e,n)=>t[e]=n),t})(d),f=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,m=String.fromCharCode.bind(String),g=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_")),h=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),v=e=>{let t,n,i,a,r="";const o=e.length%3;for(let o=0;o<e.length;){if((n=e.charCodeAt(o++))>255||(i=e.charCodeAt(o++))>255||(a=e.charCodeAt(o++))>255)throw new TypeError("invalid character found");t=n<<16|i<<8|a,r+=d[t>>18&63]+d[t>>12&63]+d[t>>6&63]+d[63&t]}return o?r.slice(0,o-3)+"===".substring(o):r},b="function"==typeof btoa?e=>btoa(e):l?e=>Buffer.from(e,"binary").toString("base64"):v,y=l?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,i=e.length;n<i;n+=4096)t.push(m.apply(null,e.subarray(n,n+4096)));return b(t.join(""))},A=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?m(192|t>>>6)+m(128|63&t):m(224|t>>>12&15)+m(128|t>>>6&63)+m(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return m(240|t>>>18&7)+m(128|t>>>12&63)+m(128|t>>>6&63)+m(128|63&t)},I=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,E=e=>e.replace(I,A),R=l?e=>Buffer.from(e,"utf8").toString("base64"):c?e=>y(c.encode(e)):e=>b(E(e)),w=(e,t=!1)=>t?g(R(e)):R(e),_=e=>{if(e=e.replace(/\s+/g,""),!f.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n,i,a="";for(let r=0;r<e.length;)t=p[e.charAt(r++)]<<18|p[e.charAt(r++)]<<12|(n=p[e.charAt(r++)])<<6|(i=p[e.charAt(r++)]),a+=64===n?m(t>>16&255):64===i?m(t>>16&255,t>>8&255):m(t>>16&255,t>>8&255,255&t);return a};function S(e,t=""){const n={};return Object.entries(e).forEach(([e,i])=>{const a=null!==i&&"object"==typeof i&&!Array.isArray(i),r=function(e,t){return`${e}${e?".":""}${t}`}(t,e);if(a){const e=S(i,r);Object.assign(n,e)}else n[r]=i}),n}function P(e,t){const n=S(e),i=Object.entries(n).some(([e,t])=>e.includes(".")||Array.isArray(t)&&t.some(e=>"object"==typeof e));return t&&i?new URLSearchParams({".r":w(JSON.stringify(e),!0)}):Object.entries(n).reduce((e,[t,n])=>((Array.isArray(n)?n:[n]).forEach(i=>{null==i||Array.isArray(n)&&"object"==typeof i||e.append(t,i)}),e),new URLSearchParams)}var x;function k(t,n={},i){return function(a={},r){return"string"==typeof a?a:o(t,a);function o(t,n){const i={};return[null,void 0].includes(n)?n:(Object.entries(n).forEach(([n,a])=>{const r=t[n],{schemaName:o,schemaType:l}=function(t=""){const[n,i]=e(t);return i?{schemaName:i,schemaType:n}:{schemaName:n}}(r),c="Map"===l;let d;d=u(o)?.checkRepetable?.(a)??Array.isArray(a)?a.map(e=>s(e,o)):c?function(e,t){return Object.entries(e).reduce((e,[n,i])=>(e[n]=s(i,t),e),{})}(a,o):s(a,o),i[n]=d}),i)}function s(e,t){if(!t)return e;const i=n[t];if(u(t))return u(t).transform(e);if(i)return o(i,e);throw new Error(`${t} is neither schema nor serializable type`)}function u(e){return i[e]?.[r]}}}!function(e){e[e.TO_JSON=0]="TO_JSON",e[e.FROM_JSON=1]="FROM_JSON"}(x||(x={}));const O={types:["google.protobuf.Timestamp"],[x.TO_JSON]:{transform:e=>"string"!=typeof e&&e?e.toISOString():e},[x.FROM_JSON]:{transform:e=>e?new Date(e):e}},C={types:["google.protobuf.FieldMask"],[x.TO_JSON]:{transform:e=>e.join(","),checkRepetable:e=>e.some(e=>Array.isArray(e))},[x.FROM_JSON]:{transform:e=>"object"==typeof e?e.paths:e.split(",")}},M={types:["google.protobuf.BytesValue","BYTES"],[x.TO_JSON]:{transform:e=>{const t=e.reduce((e,t)=>e+String.fromCharCode(t),"");return btoa(t)}},[x.FROM_JSON]:{transform:e=>Uint8Array.from(atob(e),e=>e.charCodeAt(0))}},L={types:["google.protobuf.Duration"],[x.TO_JSON]:{transform:({seconds:e="0",nanos:t=0})=>{let n="";return 0!==t&&(n=`.${t.toString().padStart(9,"0")}`),`${e}${n}s`}},[x.FROM_JSON]:{transform:e=>{const[t,n]=e.substring(0,e.length-1).split(".");return{seconds:t,nanos:N(n)}}}};function N(e){let t=0;if(void 0!==e){const n=3-e.length/3;t=parseInt(e,10)*Math.pow(1e3,n)}return t}const D={types:["FLOAT","DOUBLE","google.protobuf.FloatValue","google.protobuf.DoubleValue"],[x.TO_JSON]:{transform:e=>isFinite(e)?e:e.toString()},[x.FROM_JSON]:{transform:e=>"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:e}};const T=[...[O,C,M,L,D]].reduce((e,t)=>({...e,...t.types.reduce((e,n)=>({...e,[n]:t}),{})}),{});function q(e,t={}){const n=k(e,t,T);return{fromJSON(e){const t=function(e){try{return JSON.parse(e)}catch(e){}}(e)||e;return n(t,x.FROM_JSON)},toJSON:e=>n(e,x.TO_JSON)}}var F={lastSyncDate:"google.protobuf.Timestamp"},j={},J={menu:"_menu"},G={},B={menus:"_menu"},V={createdDate:"google.protobuf.Timestamp",updatedDate:"google.protobuf.Timestamp",externalReferenceInfo:"_externalReferenceInfo"};function U(e){return s(Object.assign(e,{domainToMappings:{"manage._base_domain_":[{srcPath:"/_api/restaurants-menus-menu",destPath:""}],_:[{srcPath:"/_api/restaurants-menus-menu",destPath:""},{srcPath:"/restaurants/menus/v1/menus",destPath:"/v1/menus"},{srcPath:"/restaurants/menus/v1/bulk/menus",destPath:"/v1/bulk/menus"}],"editor._base_domain_":[{srcPath:"/_api/restaurants-menus-menu",destPath:""}],"blocks._base_domain_":[{srcPath:"/_api/restaurants-menus-menu",destPath:""}],"create.editorx":[{srcPath:"/_api/restaurants-menus-menu",destPath:""}],"editor.wixapps.net":[{srcPath:"/_api/restaurants-menus-menu",destPath:""}],"*.dev.wix-code.com":[{srcPath:"/_api/restaurants-menus-menu",destPath:""},{srcPath:"/restaurants/menus/v1/menus",destPath:"/v1/menus"},{srcPath:"/restaurants/menus/v1/bulk/menus",destPath:"/v1/bulk/menus"}],"www._base_domain_":[{srcPath:"/_api/restaurants-menus-menu",destPath:""}],"api._api_base_domain_":[{srcPath:"/restaurants-menus-menu",destPath:""}],"www.wixapis.com":[{srcPath:"/restaurants/menus-menu",destPath:""},{srcPath:"/restaurants/menus/v1/bulk/menus",destPath:"/v1/bulk/menus"},{srcPath:"/restaurants/menus/v1/menus",destPath:"/v1/menus"}],"apps._base_domain_":[{srcPath:"/_api/restaurants-menus-menu",destPath:""}]}}))}let H=function(e){return e.ASC="ASC",e.DESC="DESC",e}({});const z=(e,t)=>({get:n=>{let{id:i}=n;const a=async()=>{const t=await e.request(function(e){var t=q(j,{}),n=t.toJSON,i=t.fromJSON,a=q(J,{_externalReferenceInfo:F,_menu:V}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.menu",method:"GET",methodFqn:"com.wixpress.restaurants.menus_menu.v1.RestaurantsMenusMenu.GetMenu",url:U({protoPath:"/v1/menus/{menuId}",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}({menuId:i})),{data:{menu:n={}}}=t;return{data:n}};return null!=t&&t.withErrorHandler?t.withErrorHandler(a,{errorCodesMap:{}}):a()},getAll:n=>{let{paging:i,onlyVisible:a=!0}=n;const r=async()=>{var t,n;const r=await e.request(function(e){var t=q(G,{}),n=t.toJSON,i=t.fromJSON,a=q(B,{_externalReferenceInfo:F,_menu:V}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.menu",method:"GET",methodFqn:"com.wixpress.restaurants.menus_menu.v1.RestaurantsMenusMenu.ListMenus",url:U({protoPath:"/v1/menus",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}({paging:i,onlyVisible:a}));var o,s;return{data:(o=(null==r||null==(t=r.data)?void 0:t.menus)||[],void 0===s&&(s=H.ASC),[...o].sort((e,t)=>{if(!e.createdDate)return 1;if(!t.createdDate)return-1;const n=new Date(e.createdDate).getTime(),i=new Date(t.createdDate).getTime();return s===H.ASC?n-i:i-n})),pagingMetadata:null==r||null==(n=r.data)?void 0:n.pagingMetadata}};return null!=t&&t.withErrorHandler?t.withErrorHandler(r,{errorCodesMap:{}}):r()}});var W={timestampRangesOptions:"_timestampRangesOptions"},K={startTime:"google.protobuf.Timestamp",endTime:"google.protobuf.Timestamp"},Q={lastSyncDate:"google.protobuf.Timestamp"},X={},$={section:"_section"},Z={urlExpirationDate:"google.protobuf.Timestamp"},Y={},ee={sections:"_section"},te={availability:"_availability"},ne={createdDate:"google.protobuf.Timestamp",updatedDate:"google.protobuf.Timestamp",image:"_image",additionalImages:"_image",orderSettings:"_orderSettings",externalReferenceInfo:"_externalReferenceInfo"},ie={ranges:"_availableRange"};function ae(e){return s(Object.assign(e,{domainToMappings:{"manage._base_domain_":[{srcPath:"/_api/restaurants-menus-section",destPath:""}],_:[{srcPath:"/_api/restaurants-menus-section",destPath:""},{srcPath:"/restaurants/menus/v1/sections",destPath:"/v1/sections"},{srcPath:"/restaurants/menus/v1/bulk/sections",destPath:"/v1/bulk/sections"}],"editor._base_domain_":[{srcPath:"/_api/restaurants-menus-section",destPath:""}],"blocks._base_domain_":[{srcPath:"/_api/restaurants-menus-section",destPath:""}],"create.editorx":[{srcPath:"/_api/restaurants-menus-section",destPath:""}],"editor.wixapps.net":[{srcPath:"/_api/restaurants-menus-section",destPath:""}],"*.dev.wix-code.com":[{srcPath:"/_api/restaurants-menus-section",destPath:""},{srcPath:"/restaurants/menus/v1/sections",destPath:"/v1/sections"},{srcPath:"/restaurants/menus/v1/bulk/sections",destPath:"/v1/bulk/sections"}],"www._base_domain_":[{srcPath:"/_api/restaurants-menus-section",destPath:""}],"api._api_base_domain_":[{srcPath:"/restaurants-menus-section",destPath:""}],"www.wixapis.com":[{srcPath:"/restaurants/menus-section",destPath:""},{srcPath:"/restaurants/menus/v1/bulk/sections",destPath:"/v1/bulk/sections"},{srcPath:"/restaurants/menus/v1/sections",destPath:"/v1/sections"}],"apps._base_domain_":[{srcPath:"/_api/restaurants-menus-section",destPath:""}]}}))}function re(e){var t=q(Y,{}),n=t.toJSON,i=t.fromJSON,a=q(ee,{_availability:W,_availableRange:K,_externalReferenceInfo:Q,_image:Z,_orderSettings:te,_section:ne,_timestampRangesOptions:ie}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.section",method:"GET",methodFqn:"com.wixpress.restaurants.menus_section.v1.RestaurantsMenusSection.ListSections",url:ae({protoPath:"/v1/sections",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}const oe={labels:!0,modifierGroups:!0,modifiers:!0,priceVariants:!0},se="menus";const ue="Menus";let le=function(e){return e[e.Start=0]="Start",e[e.Center=1]="Center",e[e.End=2]="End",e}({}),ce=function(e){return e[e.SMALL=0]="SMALL",e[e.MEDIUM=1]="MEDIUM",e[e.LARGE=2]="LARGE",e}({});ce.SMALL,ce.MEDIUM,ce.LARGE,ce.SMALL,ce.MEDIUM,ce.LARGE;let de=function(e){return e[e.Tabs=0]="Tabs",e[e.Dropdown=1]="Dropdown",e}({});de.Tabs,de.Dropdown,le.Start,le.Center,le.End;const pe=(e,t)=>({get:n=>{let{id:i}=n;const a=async()=>{const t=await e.request(function(e){var t=q(X,{}),n=t.toJSON,i=t.fromJSON,a=q($,{_availability:W,_availableRange:K,_externalReferenceInfo:Q,_image:Z,_orderSettings:te,_section:ne,_timestampRangesOptions:ie}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.section",method:"GET",methodFqn:"com.wixpress.restaurants.menus_section.v1.RestaurantsMenusSection.GetSection",url:ae({protoPath:"/v1/sections/{sectionId}",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}({sectionId:i})),{data:{section:n={}}}=t;return{data:n}};return null!=t&&t.withErrorHandler?t.withErrorHandler(a,{errorCodesMap:{}}):a()},getAll:n=>{let{ids:i,paging:a,onlyVisible:r=!0}=n;const o=async()=>{let n,o=[];if(null!=i&&i.length){const n=(s=75,i.reduce((e,t,n)=>{const i=Math.floor(n/s);return e[i]||(e[i]=[]),e[i].push(t),e},[])),a=await Promise.all(n.map(async n=>{try{const{data:t}=await e.request(re({onlyVisible:r,sectionIds:n||[]}));return t.sections||[]}catch(e){throw null!=t&&t.getResolvedError&&t.getResolvedError(e),e}}));o.push(...a.flatMap(e=>e))}else{const{data:t}=await e.request(re({paging:a,onlyVisible:r}));o=t.sections,n=t.pagingMetadata}var s;return{data:o||[],pagingMetadata:n}};return null!=t&&t.withErrorHandler?t.withErrorHandler(o,{errorCodesMap:{}}):o()}});function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function me(e){var t=function(e,t){if("object"!=fe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=fe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fe(t)?t:t+""}function ge(e,t,n){return(t=me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const he=(e,t)=>e.reduce((e,n)=>(e[String(n[t])]=n,e),{}),ve=e=>null===e||0===Object.keys(e).length,be=(e,t)=>[...e||[],...t||[]],ye=(e,t)=>e.map(e=>t.find(t=>t.id===e)).filter(e=>!!e)||[],Ae=async e=>{try{return{data:await e(),hasError:!1}}catch(e){return{error:e,hasError:!0}}},Ie=(e,t)=>e.reduce((e,n,i)=>{const a=Math.floor(i/t);return e[a]||(e[a]=[]),e[a].push(n),e},[]),Ee=async function(e,t,n){void 0===n&&(n=100);const i=Ie(t,n);return(await Promise.all(i.map(async t=>e(t)))).reduce((e,t)=>{var n,i,a,r;return{bulkActionMetadata:{totalFailures:(a=null==(n=e.bulkActionMetadata)?void 0:n.totalFailures,r=null==(i=t.data.bulkActionMetadata)?void 0:i.totalFailures,(a||0)+(r||0))},results:be(e.results,t.data.results)}},{})},Re=e=>e.map(e=>({variantId:e.variantId,priceInfo:e.priceInfo})),we=e=>({minSelections:e.minSelections,maxSelections:e.maxSelections,required:e.required}),_e=e=>e.replace(/\s+/g," ").trim(),Se=e=>e.map(e=>{var t;return{variantId:e.id,priceInfo:{price:null==(t=e.priceInfo)?void 0:t.price}}}),Pe=e=>e.map(e=>({id:e.id})),xe=e=>e.map(e=>({id:e.id})),ke=(e,t,n)=>{const{priceVariants:i,modifierGroups:a,labels:r,...o}=e;let s={...o,...e.labels&&{labels:null!=n&&n.labels?xe(e.labels):e.labels},...e.modifierGroups&&{modifierGroups:null!=n&&n.modifierGroups?Pe(e.modifierGroups):e.modifierGroups},...e.orderSettings&&{orderSettings:{acceptSpecialRequests:e.orderSettings.acceptSpecialRequests,inStock:e.orderSettings.inStock,taxGroupId:e.orderSettings.taxGroupId}}};var u,l;t?s={...s,...(null==(u=e.priceVariants)?void 0:u.variants)&&{priceVariants:{variants:null!=n&&n.priceVariants?Se(e.priceVariants.variants):Re(e.priceVariants.variants)}},priceInfo:{price:null}}:s={...s,priceVariants:null,priceInfo:{price:null==(l=e.priceInfo)?void 0:l.price}};return s},Oe=(e,t,n,i,a)=>{const r=null!=a&&a.priceVariants?n:null==n?void 0:n.map(e=>({variantId:e.variantId,priceInfo:e.priceInfo}));return{id:e.id,revision:e.revision,name:e.name,description:e.description,featured:e.featured,...e.priceInfo&&{priceInfo:e.priceInfo},...e.priceVariants&&{priceVariants:{variants:r}},image:e.image,additionalImages:e.additionalImages,...e.modifierGroups&&{modifierGroups:t},...e.labels&&{labels:i},...e.orderSettings&&{orderSettings:{acceptSpecialRequests:e.orderSettings.acceptSpecialRequests,inStock:e.orderSettings.inStock,taxGroupId:e.orderSettings.taxGroupId}},visible:e.visible,createdDate:e.createdDate,...e.businessLocationIds&&{businessLocationIds:e.businessLocationIds},externalReferenceInfo:e.externalReferenceInfo}},Ce=(e,t)=>{const n=he(t,"id");return e.reduce((e,t)=>{const i={...n[t.id],preSelected:t.preSelected,additionalChargeInfo:t.additionalChargeInfo};return e=e.concat(i)},[])},Me=(e,t)=>e(t).substring(0,200),Le=(e,t)=>{const[n,i]=e.reduce((e,n)=>{let[i,a]=e;if(t&&n.name){const e=t[n.name];e?a.push(e):i.push(n)}else n.id?a.push(n):i.push(n);return[i,a]},[[],[]]);return{newEntities:n,existingEntities:i}},Ne=e=>e.filter((t,n)=>e.findIndex(e=>t.name===e.name)===n),De=async(e,t)=>{const n=(e=>e.map(e=>({...e.id&&{id:e.id},...e.revision&&{revision:e.revision},name:_e(e.name),inStock:e.inStock??!0})))(e),i=await Ae(()=>t.query({filter:{name:{$in:n.map(e=>e.name)}}}));if(i.hasError)return i;const a=he(i.data.data,"name"),{newEntities:r,existingEntities:o}=Le(n,a),s=Ne(r).map(e=>({name:e.name,inStock:e.inStock??!0})),u=s.length>0?await Ae(()=>t.bulkCreate(s)):void 0;if(null!=u&&u.hasError)return u;const l=[...(null==u?void 0:u.data)||[],...o||[]],c=he(l,"name");return{data:e.map(e=>{const t=_e(e.name),n=c[t];return{name:n.name,additionalChargeInfo:e.additionalChargeInfo,preSelected:e.preSelected,id:n.id,inStock:n.inStock??!0,revision:n.revision,businessLocationIds:n.businessLocationIds??[]}}),hasError:!1}},Te=e=>{var t;const n=null==(t=e.modifiers)?void 0:t.map(e=>e.id);return`${e.name} ${null==n?void 0:n.toString()}`},qe=async e=>{let{modifierGroups:t,modifierGroupsClient:n,modifiersClient:i}=e;const a=(e=>null==e?void 0:e.reduce((e,t)=>(t.modifiers&&(e=e.concat(t.modifiers)),e),[]))(t),r=await De(a,i);if(r.hasError)return r;const o=((e,t)=>{const n=he(t,"name");return e.map(e=>({...e,modifiers:e.modifiers.map(e=>{const t=_e(e.name);if(t)return{...n[t],additionalChargeInfo:e.additionalChargeInfo,preSelected:e.preSelected};throw Error("Modifier does not have id and/or name")})}))})(t,r.data),s=(e=>e.map(e=>{return{...e.id&&{id:e.id},...e.revision&&{revision:e.revision},...e.createdDate&&{createdDate:e.createdDate},...e.businessLocationIds&&{businessLocationIds:e.businessLocationIds},name:e.name,rule:we(e.rule),modifiers:(t=e.modifiers,t.reduce((e,t)=>e.concat({id:t.id,additionalChargeInfo:t.additionalChargeInfo,preSelected:t.preSelected}),[]))};var t}))(o),{newEntities:u,existingEntities:l}=Le(s),c=u.length>0?await Ae(()=>n.bulkCreate(u)):void 0;if(null!=c&&c.hasError)return c;const d=l.length>0?await Ae(()=>n.bulkUpdate(l)):void 0;if(null!=d&&d.hasError)return d;const p=[...(null==c?void 0:c.data)||[],...(null==d?void 0:d.data)||[]],f=(e=>e.reduce((e,t)=>(e[Te(t)]=t,e),{}))(p),m=he(p,"id");return{data:o.map(e=>{let t;return t=e.id?m[e.id]:f[Te(e)],{...e,name:t.name,id:t.id,revision:t.revision,modifiers:Ce(t.modifiers,r.data),businessLocationIds:t.businessLocationIds,createdDate:t.createdDate}}),hasError:!1}},Fe=async(e,t)=>{const n=(e=>e.map(e=>({...e.id&&{id:e.id},...e.revision&&{revision:e.revision},name:_e(e.name)})))(e),i={filter:{name:{$in:n.map(e=>e.name)}}},a=await Ae(()=>t.query(i));if(a.hasError)return a;const r=he(a.data.data,"name"),{newEntities:o,existingEntities:s}=Le(n,r),u=Ne(o).map(e=>({name:e.name})),l=u.length>0?await Ae(()=>t.bulkCreate(u)):void 0;if(null!=l&&l.hasError)return l;const c=[...(null==l?void 0:l.data)||[],...s||[]],d=he(c,"name");return{data:e.map(e=>{const t=_e(e.name),n=d[t];return{name:n.name,priceInfo:e.priceInfo,id:n.id,revision:n.revision,businessLocationIds:n.businessLocationIds??[]}}),hasError:!1}};let je=function(e){return e.BULK_DELETE_ITEMS="Delete items error",e.BULK_DELETE_VARIANTS="Delete variants error",e.BULK_DELETE_MODIFIERS="Delete modifiers error",e.BULK_DELETE_LABELS="delete labels error",e}({});var Je={range:"_rangeAggregation"},Ge={results:"_aggregationResults"},Be={ranges:"_rangeResults",scalar:"_scalarResult"},Ve={timestampRangesOptions:"_timestampRangesOptions"},Ue={startTime:"google.protobuf.Timestamp",endTime:"google.protobuf.Timestamp"},He={item:"_item"},ze={items:"_item"},We={results:"_bulkCreateItemResult"},Ke={},Qe={},Xe={item:"_item"},$e={items:"_maskedItem"},Ze={results:"_bulkItemResult"},Ye={},et={},tt={item:"_item"},nt={item:"_item"},it={aggregations:"_aggregation"},at={},rt={},ot={lastSyncDate:"google.protobuf.Timestamp"},st={},ut={item:"_item"},lt={urlExpirationDate:"google.protobuf.Timestamp"},ct={createdDate:"google.protobuf.Timestamp",updatedDate:"google.protobuf.Timestamp",image:"_image",additionalImages:"_image",orderSettings:"_orderSettings",externalReferenceInfo:"_externalReferenceInfo"},dt={},pt={items:"_item"},ft={mask:"google.protobuf.FieldMask",item:"_item"},mt={availability:"_availability"},gt={},ht={items:"_item"},vt={buckets:"_rangeBucket"},bt={from:"google.protobuf.DoubleValue",to:"google.protobuf.DoubleValue"},yt={from:"google.protobuf.DoubleValue",to:"google.protobuf.DoubleValue"},At={results:"_rangeAggregationResult"},It={value:"DOUBLE"},Et={search:"_cursorSearch"},Rt={items:"_item",aggregationData:"_aggregationData"},wt={ranges:"_availableRange"},_t={mask:"google.protobuf.FieldMask",item:"_item"},St={item:"_item"};function Pt(e){return s(Object.assign(e,{domainToMappings:{"manage._base_domain_":[{srcPath:"/_api/restaurants-menus-item",destPath:""}],_:[{srcPath:"/_api/restaurants-menus-item",destPath:""},{srcPath:"/restaurants/menus/v1/items",destPath:"/v1/items"},{srcPath:"/restaurants/menus/v1/bulk/items",destPath:"/v1/bulk/items"}],"editor._base_domain_":[{srcPath:"/_api/restaurants-menus-item",destPath:""}],"blocks._base_domain_":[{srcPath:"/_api/restaurants-menus-item",destPath:""}],"create.editorx":[{srcPath:"/_api/restaurants-menus-item",destPath:""}],"editor.wixapps.net":[{srcPath:"/_api/restaurants-menus-item",destPath:""}],"*.dev.wix-code.com":[{srcPath:"/_api/restaurants-menus-item",destPath:""},{srcPath:"/restaurants/menus/v1/items",destPath:"/v1/items"},{srcPath:"/restaurants/menus/v1/bulk/items",destPath:"/v1/bulk/items"}],"www._base_domain_":[{srcPath:"/_api/restaurants-menus-item",destPath:""}],"api._api_base_domain_":[{srcPath:"/restaurants-menus-item",destPath:""}],"www.wixapis.com":[{srcPath:"/restaurants/menus-item",destPath:""},{srcPath:"/restaurants/menus/v1/bulk/items",destPath:"/v1/bulk/items"},{srcPath:"/restaurants/menus/v1/items",destPath:"/v1/items"}],"apps._base_domain_":[{srcPath:"/_api/restaurants-menus-item",destPath:""}]}}))}function xt(e){var t=q(tt,{_availability:Ve,_availableRange:Ue,_externalReferenceInfo:ot,_image:lt,_item:ct,_orderSettings:mt,_timestampRangesOptions:wt}),n=t.toJSON,i=t.fromJSON,a=q(nt,{_availability:Ve,_availableRange:Ue,_externalReferenceInfo:ot,_image:lt,_item:ct,_orderSettings:mt,_timestampRangesOptions:wt}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item",method:"POST",methodFqn:"com.wixpress.restaurants.menus_item.v1.RestaurantsMenusItem.CreateItem",url:Pt({protoPath:"/v1/items",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function kt(e){var t=q(ze,{_availability:Ve,_availableRange:Ue,_externalReferenceInfo:ot,_image:lt,_item:ct,_orderSettings:mt,_timestampRangesOptions:wt}),n=t.toJSON,i=t.fromJSON,a=q(We,{_availability:Ve,_availableRange:Ue,_bulkCreateItemResult:He,_externalReferenceInfo:ot,_image:lt,_item:ct,_orderSettings:mt,_timestampRangesOptions:wt}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item",method:"POST",methodFqn:"com.wixpress.restaurants.menus_item.v1.RestaurantsMenusItem.BulkCreateItems",url:Pt({protoPath:"/v1/bulk/items/create",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Ot(e){var t=q(st,{}),n=t.toJSON,i=t.fromJSON,a=q(ut,{_availability:Ve,_availableRange:Ue,_externalReferenceInfo:ot,_image:lt,_item:ct,_orderSettings:mt,_timestampRangesOptions:wt}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item",method:"GET",methodFqn:"com.wixpress.restaurants.menus_item.v1.RestaurantsMenusItem.GetItem",url:Pt({protoPath:"/v1/items/{itemId}",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Ct(e){var t=q(dt,{}),n=t.toJSON,i=t.fromJSON,a=q(pt,{_availability:Ve,_availableRange:Ue,_externalReferenceInfo:ot,_image:lt,_item:ct,_orderSettings:mt,_timestampRangesOptions:wt}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item",method:"GET",methodFqn:"com.wixpress.restaurants.menus_item.v1.RestaurantsMenusItem.ListItems",url:Pt({protoPath:"/v1/items",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Mt(e){var t=q(gt,{}),n=t.toJSON,i=t.fromJSON,a=q(ht,{_availability:Ve,_availableRange:Ue,_externalReferenceInfo:ot,_image:lt,_item:ct,_orderSettings:mt,_timestampRangesOptions:wt}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item",method:"POST",methodFqn:"com.wixpress.restaurants.menus_item.v1.RestaurantsMenusItem.QueryItems",url:Pt({protoPath:"/v1/items/query",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Lt(e){var t=q(Et,{_aggregation:Je,_cursorSearch:it,_rangeAggregation:vt,_rangeBucket:yt}),n=t.toJSON,i=t.fromJSON,a=q(Rt,{_aggregationData:Ge,_aggregationResults:Be,_availability:Ve,_availableRange:Ue,_externalReferenceInfo:ot,_image:lt,_item:ct,_orderSettings:mt,_rangeAggregationResult:bt,_rangeResults:At,_scalarResult:It,_timestampRangesOptions:wt}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item",method:"GET",methodFqn:"com.wixpress.restaurants.menus_item.v1.RestaurantsMenusItem.SearchItems",url:Pt({protoPath:"/v1/items/search",data:r,host:i}),params:P(r,!0),transformResponse:a,fallback:[{method:"POST",url:Pt({protoPath:"/v1/items/search",data:r,host:i}),data:r}]}}return r.fromReq=i,r.__isAmbassador=!0,r}function Nt(e){var t=q(Ye,{}),n=t.toJSON,i=t.fromJSON,a=q(et,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item",method:"POST",methodFqn:"com.wixpress.restaurants.menus_item.v1.RestaurantsMenusItem.CountItems",url:Pt({protoPath:"/v1/items/count",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Dt(e){var t=q(_t,{_availability:Ve,_availableRange:Ue,_externalReferenceInfo:ot,_image:lt,_item:ct,_orderSettings:mt,_timestampRangesOptions:wt}),n=t.toJSON,i=t.fromJSON,a=q(St,{_availability:Ve,_availableRange:Ue,_externalReferenceInfo:ot,_image:lt,_item:ct,_orderSettings:mt,_timestampRangesOptions:wt}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item",method:"PATCH",methodFqn:"com.wixpress.restaurants.menus_item.v1.RestaurantsMenusItem.UpdateItem",url:Pt({protoPath:"/v1/items/{item.id}",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Tt(e){var t=q($e,{_availability:Ve,_availableRange:Ue,_externalReferenceInfo:ot,_image:lt,_item:ct,_maskedItem:ft,_orderSettings:mt,_timestampRangesOptions:wt}),n=t.toJSON,i=t.fromJSON,a=q(Ze,{_availability:Ve,_availableRange:Ue,_bulkItemResult:Xe,_externalReferenceInfo:ot,_image:lt,_item:ct,_orderSettings:mt,_timestampRangesOptions:wt}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item",method:"POST",methodFqn:"com.wixpress.restaurants.menus_item.v1.RestaurantsMenusItem.BulkUpdateItem",url:Pt({protoPath:"/v1/bulk/items/update",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function qt(e){var t=q(at,{}),n=t.toJSON,i=t.fromJSON,a=q(rt,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item",method:"DELETE",methodFqn:"com.wixpress.restaurants.menus_item.v1.RestaurantsMenusItem.DeleteItem",url:Pt({protoPath:"/v1/items/{itemId}",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Ft(e){var t=q(Ke,{}),n=t.toJSON,i=t.fromJSON,a=q(Qe,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item",method:"DELETE",methodFqn:"com.wixpress.restaurants.menus_item.v1.RestaurantsMenusItem.BulkDeleteItems",url:Pt({protoPath:"/v1/bulk/items/delete",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}class jt{constructor(e){ge(this,"request",void 0),this.request=e}}class Jt extends jt{async getById(e){return(await this.request(Ot,{itemId:e})).data.item}async getBulk(e){var t;let n,i,a=[];if(null!=e&&null!=(t=e.ids)&&t.length){n=Ie(null==e?void 0:e.ids,500);const t=await Promise.all(n.map(async t=>{const n={filter:{id:{$in:t||[]},...null==e?void 0:e.filter}},{data:i}=await this.request(Mt,{query:n});return i.items||[]}));a.push(...t.flatMap(e=>e));a=ye(null==e?void 0:e.ids,a)}else{const{data:t}=await this.request(Mt,{query:{cursorPaging:null==e?void 0:e.paging,...(null==e?void 0:e.filter)&&{filter:null==e?void 0:e.filter}}});a=t.items,i=t.pagingMetadata}return{data:a||[],pagingMetadata:i}}async getListBulk(e){const{data:t}=await this.request(Ct,{...e});return{data:t.items||[]||[],pagingMetadata:t.pagingMetadata}}async create(e,t){return(await this.request(xt,{item:e,source:t})).data.item}async update(e){return(await this.request(Dt,{item:e})).data.item}async bulkUpdate(e){return(await this.request(Tt,{items:e.map(e=>({item:e}))})).data.results}async delete(e){return(await this.request(qt,{itemId:e})).data}async query(e){const{data:{items:t=[],pagingMetadata:n}}=await this.request(Mt,{query:e});return{data:t,pagingMetadata:n}}async countItems(e,t){return(await this.request(Nt,{filter:e,...t?{searchDetails:t}:{}})).data.count}async bulkCreate(e,t){const{results:n}=await Ee(async e=>this.request(kt,{items:e,source:t,returnEntity:!0}),e);return(n||[]).map(e=>e.item)}async bulkDelete(e){var t;const n=await Ee(e=>this.request(Ft,{ids:e}),e,75);if(null!=(t=n.bulkActionMetadata)&&t.totalFailures){var i;const e=(null==(i=n.results)?void 0:i.filter(e=>{var t;return null==(t=e.itemMetadata)?void 0:t.error}))||[],t={name:je.BULK_DELETE_ITEMS,message:e.map(e=>{var t;return null==(t=e.itemMetadata)?void 0:t.error}).join(", ")};throw new Error("Failed to delete items",{cause:t})}return{}}async search(e){const{data:{items:t=[],pagingMetadata:n}}=await this.request(Lt,{search:e});return{data:t,pagingMetadata:n}}}var Gt={},Bt={},Vt={},Ut={},Ht={label:"_label"},zt={label:"_label"},Wt={},Kt={},Qt={lastSyncDate:"google.protobuf.Timestamp"},Xt={},$t={label:"_label"},Zt={urlExpirationDate:"google.protobuf.Timestamp"},Yt={createdDate:"google.protobuf.Timestamp",updatedDate:"google.protobuf.Timestamp",icon:"_image",externalReferenceInfo:"_externalReferenceInfo"},en={},tn={labels:"_label"},nn={},an={labels:"_label"},rn={mask:"google.protobuf.FieldMask",label:"_label"},on={label:"_label"};function sn(e){return s(Object.assign(e,{domainToMappings:{"manage._base_domain_":[{srcPath:"/_api/restaurants-menus-item-labels",destPath:""}],"editor.wixapps.net":[{srcPath:"/_api/restaurants-menus-item-labels",destPath:""}],"editor._base_domain_":[{srcPath:"/_api/restaurants-menus-item-labels",destPath:""}],"blocks._base_domain_":[{srcPath:"/_api/restaurants-menus-item-labels",destPath:""}],"create.editorx":[{srcPath:"/_api/restaurants-menus-item-labels",destPath:""}],_:[{srcPath:"/_api/restaurants-menus-item-labels",destPath:""}],"*.dev.wix-code.com":[{srcPath:"/_api/restaurants-menus-item-labels",destPath:""}],"www._base_domain_":[{srcPath:"/_api/restaurants-menus-item-labels",destPath:""}],"api._api_base_domain_":[{srcPath:"/restaurants-menus-item-labels",destPath:""}],"www.wixapis.com":[{srcPath:"/restaurants/item-labels",destPath:""},{srcPath:"/restaurants/menus/v1/labels",destPath:"/v1/labels"}],"apps._base_domain_":[{srcPath:"/_api/restaurants-menus-item-labels",destPath:""}]}}))}function un(e){var t=q(Ht,{_externalReferenceInfo:Qt,_image:Zt,_label:Yt}),n=t.toJSON,i=t.fromJSON,a=q(zt,{_externalReferenceInfo:Qt,_image:Zt,_label:Yt}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_label",method:"POST",methodFqn:"com.wixpress.restaurants.menus_item_labels.v1.RestaurantsMenusItemLabels.CreateLabel",url:sn({protoPath:"/v1/labels",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function ln(e){var t=q(Xt,{}),n=t.toJSON,i=t.fromJSON,a=q($t,{_externalReferenceInfo:Qt,_image:Zt,_label:Yt}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_label",method:"GET",methodFqn:"com.wixpress.restaurants.menus_item_labels.v1.RestaurantsMenusItemLabels.GetLabel",url:sn({protoPath:"/v1/labels/{labelId}",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function cn(e){var t=q(en,{}),n=t.toJSON,i=t.fromJSON,a=q(tn,{_externalReferenceInfo:Qt,_image:Zt,_label:Yt}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_label",method:"GET",methodFqn:"com.wixpress.restaurants.menus_item_labels.v1.RestaurantsMenusItemLabels.ListLabels",url:sn({protoPath:"/v1/labels",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function dn(e){var t=q(nn,{}),n=t.toJSON,i=t.fromJSON,a=q(an,{_externalReferenceInfo:Qt,_image:Zt,_label:Yt}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_label",method:"POST",methodFqn:"com.wixpress.restaurants.menus_item_labels.v1.RestaurantsMenusItemLabels.QueryLabels",url:sn({protoPath:"/v1/labels/query",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function pn(e){var t=q(Vt,{}),n=t.toJSON,i=t.fromJSON,a=q(Ut,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_label",method:"POST",methodFqn:"com.wixpress.restaurants.menus_item_labels.v1.RestaurantsMenusItemLabels.CountLabels",url:sn({protoPath:"/v1/labels/count",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function fn(e){var t=q(rn,{_externalReferenceInfo:Qt,_image:Zt,_label:Yt}),n=t.toJSON,i=t.fromJSON,a=q(on,{_externalReferenceInfo:Qt,_image:Zt,_label:Yt}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_label",method:"PATCH",methodFqn:"com.wixpress.restaurants.menus_item_labels.v1.RestaurantsMenusItemLabels.UpdateLabel",url:sn({protoPath:"/v1/labels/{label.id}",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function mn(e){var t=q(Wt,{}),n=t.toJSON,i=t.fromJSON,a=q(Kt,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_label",method:"DELETE",methodFqn:"com.wixpress.restaurants.menus_item_labels.v1.RestaurantsMenusItemLabels.DeleteLabel",url:sn({protoPath:"/v1/labels/{labelId}",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function gn(e){var t=q(Gt,{}),n=t.toJSON,i=t.fromJSON,a=q(Bt,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_label",method:"DELETE",methodFqn:"com.wixpress.restaurants.menus_item_labels.v1.RestaurantsMenusItemLabels.BulkDeleteLabels",url:sn({protoPath:"/v1/bulk/labels/delete",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}class hn extends jt{async getById(e){return(await this.request(ln,{labelId:e})).data.label}async getBulk(){return{data:(await this.request(cn,{})).data.labels}}async create(e){return(await this.request(un,{label:e})).data.label}async update(e){return(await this.request(fn,{label:e})).data.label}async delete(e){return(await this.request(mn,{labelId:e})).data}async query(e){const t=await this.request(dn,{query:e});return{data:t.data.labels,pagingMetadata:t.data.pagingMetadata}}async countLabels(e){return(await this.request(pn,{filter:e})).data.count}async bulkDelete(e){var t;const n=await Ee(e=>this.request(gn,{ids:e}),e,75);if(null!=(t=n.bulkActionMetadata)&&t.totalFailures){var i;const e=(null==(i=n.results)?void 0:i.filter(e=>{var t;return null==(t=e.itemMetadata)?void 0:t.error}))||[],t={name:je.BULK_DELETE_LABELS,message:e.map(e=>{var t;return null==(t=e.itemMetadata)?void 0:t.error}).join(", ")};throw new Error("Failed to delete labels",{cause:t})}return{}}}var vn={modifierGroups:"_modifierGroup"},bn={results:"_bulkCreateModifierGroupsResult"},yn={modifierGroup:"_modifierGroup"},An={},In={},En={modifierGroups:"_maskedModifierGroup"},Rn={results:"_bulkUpdateModifierGroupsResult"},wn={modifierGroup:"_modifierGroup"},_n={},Sn={},Pn={modifierGroup:"_modifierGroup"},xn={modifierGroup:"_modifierGroup"},kn={},On={},Cn={lastSyncDate:"google.protobuf.Timestamp"},Mn={},Ln={modifierGroup:"_modifierGroup"},Nn={mask:"google.protobuf.FieldMask",modifierGroup:"_modifierGroup"},Dn={createdDate:"google.protobuf.Timestamp",updatedDate:"google.protobuf.Timestamp",externalReferenceInfo:"_externalReferenceInfo"},Tn={},qn={modifierGroups:"_modifierGroup"},Fn={mask:"google.protobuf.FieldMask",modifierGroup:"_modifierGroup"},jn={modifierGroup:"_modifierGroup"};function Jn(e){return s(Object.assign(e,{domainToMappings:{"*.dev.wix-code.com":[{srcPath:"/_api/restaurants-modifier-group",destPath:""},{srcPath:"/restaurants/menus/v1/bulk/modifiers-groups/delete",destPath:"/v1/bulk/modifiers-groups/delete"},{srcPath:"/restaurants/menus/v1/bulk/modifiers-groups/update",destPath:"/v1/bulk/modifiers-groups/update"},{srcPath:"/restaurants/menus/v1/bulk/modifier-groups/create",destPath:"/v1/bulk/modifier-groups/create"},{srcPath:"/restaurants/menus/v1/modifier-groups",destPath:"/v1/modifier-groups"}],"manage._base_domain_":[{srcPath:"/_api/restaurants-modifier-group",destPath:""}],"editor.wixapps.net":[{srcPath:"/_api/restaurants-modifier-group",destPath:""}],"editor._base_domain_":[{srcPath:"/_api/restaurants-modifier-group",destPath:""}],"blocks._base_domain_":[{srcPath:"/_api/restaurants-modifier-group",destPath:""}],"create.editorx":[{srcPath:"/_api/restaurants-modifier-group",destPath:""}],_:[{srcPath:"/_api/restaurants-modifier-group",destPath:""},{srcPath:"/restaurants/menus/v1/bulk/modifiers-groups/delete",destPath:"/v1/bulk/modifiers-groups/delete"},{srcPath:"/restaurants/menus/v1/bulk/modifiers-groups/update",destPath:"/v1/bulk/modifiers-groups/update"},{srcPath:"/restaurants/menus/v1/bulk/modifier-groups/create",destPath:"/v1/bulk/modifier-groups/create"},{srcPath:"/restaurants/menus/v1/modifier-groups",destPath:"/v1/modifier-groups"}],"www._base_domain_":[{srcPath:"/_api/restaurants-modifier-group",destPath:""}],"api._api_base_domain_":[{srcPath:"/restaurants-modifier-group",destPath:""}],"www.wixapis.com":[{srcPath:"/restaurants/item-modifier-group",destPath:""},{srcPath:"/restaurants/menus/v1/bulk/modifier-groups/create",destPath:"/v1/bulk/modifier-groups/create"},{srcPath:"/restaurants/menus/v1/bulk/modifiers-groups/delete",destPath:"/v1/bulk/modifiers-groups/delete"},{srcPath:"/restaurants/menus/v1/bulk/modifiers-groups/update",destPath:"/v1/bulk/modifiers-groups/update"},{srcPath:"/restaurants/menus/v1/modifier-groups",destPath:"/v1/modifier-groups"}],"apps._base_domain_":[{srcPath:"/_api/restaurants-modifier-group",destPath:""}]}}))}function Gn(e){var t=q(Pn,{_externalReferenceInfo:Cn,_modifierGroup:Dn}),n=t.toJSON,i=t.fromJSON,a=q(xn,{_externalReferenceInfo:Cn,_modifierGroup:Dn}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier_group",method:"POST",methodFqn:"wix.restaurants.menus.v1.ModifierGroupsService.CreateModifierGroup",url:Jn({protoPath:"/v1/modifier-groups",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Bn(e){var t=q(Mn,{}),n=t.toJSON,i=t.fromJSON,a=q(Ln,{_externalReferenceInfo:Cn,_modifierGroup:Dn}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier_group",method:"GET",methodFqn:"wix.restaurants.menus.v1.ModifierGroupsService.GetModifierGroup",url:Jn({protoPath:"/v1/modifier-groups/{modifierGroupId}",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Vn(e){var t=q(Tn,{}),n=t.toJSON,i=t.fromJSON,a=q(qn,{_externalReferenceInfo:Cn,_modifierGroup:Dn}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier_group",method:"POST",methodFqn:"wix.restaurants.menus.v1.ModifierGroupsService.QueryModifierGroups",url:Jn({protoPath:"/v1/modifier-groups/query",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Un(e){var t=q(_n,{}),n=t.toJSON,i=t.fromJSON,a=q(Sn,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier_group",method:"POST",methodFqn:"wix.restaurants.menus.v1.ModifierGroupsService.CountModifierGroups",url:Jn({protoPath:"/v1/modifier-groups/count",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Hn(e){var t=q(Fn,{_externalReferenceInfo:Cn,_modifierGroup:Dn}),n=t.toJSON,i=t.fromJSON,a=q(jn,{_externalReferenceInfo:Cn,_modifierGroup:Dn}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier_group",method:"PATCH",methodFqn:"wix.restaurants.menus.v1.ModifierGroupsService.UpdateModifierGroup",url:Jn({protoPath:"/v1/modifier-groups/{modifierGroup.id}",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function zn(e){var t=q(kn,{}),n=t.toJSON,i=t.fromJSON,a=q(On,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier_group",method:"DELETE",methodFqn:"wix.restaurants.menus.v1.ModifierGroupsService.DeleteModifierGroup",url:Jn({protoPath:"/v1/modifier-groups/{modifierGroupId}",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Wn(e){var t=q(vn,{_externalReferenceInfo:Cn,_modifierGroup:Dn}),n=t.toJSON,i=t.fromJSON,a=q(bn,{_bulkCreateModifierGroupsResult:yn,_externalReferenceInfo:Cn,_modifierGroup:Dn}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier_group",method:"POST",methodFqn:"wix.restaurants.menus.v1.ModifierGroupsService.BulkCreateModifierGroups",url:Jn({protoPath:"/v1/bulk/modifier-groups/create",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Kn(e){var t=q(En,{_externalReferenceInfo:Cn,_maskedModifierGroup:Nn,_modifierGroup:Dn}),n=t.toJSON,i=t.fromJSON,a=q(Rn,{_bulkUpdateModifierGroupsResult:wn,_externalReferenceInfo:Cn,_modifierGroup:Dn}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier_group",method:"POST",methodFqn:"wix.restaurants.menus.v1.ModifierGroupsService.BulkUpdateModifierGroups",url:Jn({protoPath:"/v1/bulk/modifiers-groups/update",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Qn(e){var t=q(An,{}),n=t.toJSON,i=t.fromJSON,a=q(In,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier_group",method:"DELETE",methodFqn:"wix.restaurants.menus.v1.ModifierGroupsService.BulkDeleteModifierGroups",url:Jn({protoPath:"/v1/bulk/modifiers-groups/delete",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}class Xn extends jt{async getById(e){return(await this.request(Bn,{modifierGroupId:e})).data.modifierGroup}async getBulk(e){var t;let n,i,a=[];if(null!=e&&null!=(t=e.ids)&&t.length){n=Ie(null==e?void 0:e.ids,100);const t=await Promise.all(n.map(async e=>{const t={filter:{id:{$in:e||[]}}},{data:n}=await this.request(Vn,{query:t});return n.modifierGroups||[]}));a.push(...t.flatMap(e=>e));a=ye(e.ids,a)}else{const{data:t}=await this.request(Vn,{query:{cursorPaging:null==e?void 0:e.paging}});a=t.modifierGroups,i=t.pagingMetadata}return{data:a||[],pagingMetadata:i}}async create(e){return(await this.request(Gn,{modifierGroup:e})).data.modifierGroup}async update(e){return(await this.request(Hn,{modifierGroup:e})).data.modifierGroup}async delete(e){return(await this.request(zn,{modifierGroupId:e})).data}async bulkDelete(e){return(await this.request(Qn,{ids:e})).data}async bulkCreate(e){return((await this.request(Wn,{modifierGroups:e,returnEntity:!0})).data.results||[]).map(e=>e.modifierGroup)}async bulkUpdate(e){return((await this.request(Kn,{modifierGroups:e.map(e=>({modifierGroup:e})),returnEntity:!0})).data.results||[]).map(e=>e.modifierGroup)}async query(e){const{data:{modifierGroups:t=[],pagingMetadata:n}}=await this.request(Vn,{query:e});return{data:t,pagingMetadata:n}}async countModifierGroups(e){return(await this.request(Un,{filter:e})).data.count}}var $n={modifier:"_modifier"},Zn={modifiers:"_modifier"},Yn={results:"_bulkCreateModifierResult"},ei={},ti={},ni={modifier:"_modifier"},ii={modifiers:"_maskedModifier"},ai={results:"_bulkUpdateModifierResult"},ri={},oi={},si={modifier:"_modifier"},ui={modifier:"_modifier"},li={},ci={},di={lastSyncDate:"google.protobuf.Timestamp"},pi={},fi={modifier:"_modifier"},mi={mask:"google.protobuf.FieldMask",modifier:"_modifier"},gi={createdDate:"google.protobuf.Timestamp",updatedDate:"google.protobuf.Timestamp",externalReferenceInfo:"_externalReferenceInfo"},hi={},vi={modifiers:"_modifier"},bi={mask:"google.protobuf.FieldMask",modifier:"_modifier"},yi={modifier:"_modifier"};function Ai(e){return s(Object.assign(e,{domainToMappings:{"manage._base_domain_":[{srcPath:"/_api/restaurants-menus-item-modifier",destPath:""}],"editor._base_domain_":[{srcPath:"/_api/restaurants-menus-item-modifier",destPath:""}],"blocks._base_domain_":[{srcPath:"/_api/restaurants-menus-item-modifier",destPath:""}],"create.editorx":[{srcPath:"/_api/restaurants-menus-item-modifier",destPath:""}],"editor.wixapps.net":[{srcPath:"/_api/restaurants-menus-item-modifier",destPath:""}],_:[{srcPath:"/_api/restaurants-menus-item-modifier",destPath:""},{srcPath:"/restaurants/menus/v1/bulk/modifiers/delete",destPath:"/v1/bulk/modifiers/delete"},{srcPath:"/restaurants/menus/v1/modifiers/count",destPath:"/v1/modifiers/count"},{srcPath:"/restaurants/menus/v1/bulk/modifiers/create",destPath:"/v1/bulk/modifiers/create"}],"*.dev.wix-code.com":[{srcPath:"/_api/restaurants-menus-item-modifier",destPath:""},{srcPath:"/restaurants/menus/v1/bulk/modifiers/delete",destPath:"/v1/bulk/modifiers/delete"},{srcPath:"/restaurants/menus/v1/modifiers/count",destPath:"/v1/modifiers/count"},{srcPath:"/restaurants/menus/v1/bulk/modifiers/create",destPath:"/v1/bulk/modifiers/create"}],"www._base_domain_":[{srcPath:"/_api/restaurants-menus-item-modifier",destPath:""}],"api._api_base_domain_":[{srcPath:"/restaurants-menus-item-modifier",destPath:""}],"www.wixapis.com":[{srcPath:"/restaurants/item-modifiers",destPath:""},{srcPath:"/restaurants/menus/v1/bulk/modifiers/create",destPath:"/v1/bulk/modifiers/create"},{srcPath:"/restaurants/menus/v1/bulk/modifiers/update",destPath:"/v1/bulk/modifiers/update"},{srcPath:"/restaurants/menus/v1/bulk/modifiers/delete",destPath:"/v1/bulk/modifiers/delete"},{srcPath:"/restaurants/menus/v1/modifiers/count",destPath:"/v1/modifiers/count"}],"apps._base_domain_":[{srcPath:"/_api/restaurants-menus-item-modifier",destPath:""}]}}))}function Ii(e){var t=q(si,{_externalReferenceInfo:di,_modifier:gi}),n=t.toJSON,i=t.fromJSON,a=q(ui,{_externalReferenceInfo:di,_modifier:gi}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier",method:"POST",methodFqn:"wix.restaurants.menus_item_modifier.v1.ModifiersService.CreateModifier",url:Ai({protoPath:"/v1/modifiers",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Ei(e){var t=q(pi,{}),n=t.toJSON,i=t.fromJSON,a=q(fi,{_externalReferenceInfo:di,_modifier:gi}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier",method:"GET",methodFqn:"wix.restaurants.menus_item_modifier.v1.ModifiersService.GetModifier",url:Ai({protoPath:"/v1/modifiers/{modifierId}",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Ri(e){var t=q(bi,{_externalReferenceInfo:di,_modifier:gi}),n=t.toJSON,i=t.fromJSON,a=q(yi,{_externalReferenceInfo:di,_modifier:gi}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier",method:"PATCH",methodFqn:"wix.restaurants.menus_item_modifier.v1.ModifiersService.UpdateModifier",url:Ai({protoPath:"/v1/modifiers/{modifier.id}",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function wi(e){var t=q(Zn,{_externalReferenceInfo:di,_modifier:gi}),n=t.toJSON,i=t.fromJSON,a=q(Yn,{_bulkCreateModifierResult:$n,_externalReferenceInfo:di,_modifier:gi}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier",method:"POST",methodFqn:"wix.restaurants.menus_item_modifier.v1.ModifiersService.BulkCreateModifiers",url:Ai({protoPath:"/v1/bulk/modifiers/create",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function _i(e){var t=q(ii,{_externalReferenceInfo:di,_maskedModifier:mi,_modifier:gi}),n=t.toJSON,i=t.fromJSON,a=q(ai,{_bulkUpdateModifierResult:ni,_externalReferenceInfo:di,_modifier:gi}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier",method:"POST",methodFqn:"wix.restaurants.menus_item_modifier.v1.ModifiersService.BulkUpdateModifiers",url:Ai({protoPath:"/v1/bulk/modifiers/update",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Si(e){var t=q(li,{}),n=t.toJSON,i=t.fromJSON,a=q(ci,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier",method:"DELETE",methodFqn:"wix.restaurants.menus_item_modifier.v1.ModifiersService.DeleteModifier",url:Ai({protoPath:"/v1/modifiers/{modifierId}",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function Pi(e){var t=q(hi,{}),n=t.toJSON,i=t.fromJSON,a=q(vi,{_externalReferenceInfo:di,_modifier:gi}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier",method:"POST",methodFqn:"wix.restaurants.menus_item_modifier.v1.ModifiersService.QueryModifiers",url:Ai({protoPath:"/v1/modifiers/query",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function xi(e){var t=q(ri,{}),n=t.toJSON,i=t.fromJSON,a=q(oi,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier",method:"POST",methodFqn:"wix.restaurants.menus_item_modifier.v1.ModifiersService.CountModifiers",url:Ai({protoPath:"/v1/modifiers/count",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function ki(e){var t=q(ei,{}),n=t.toJSON,i=t.fromJSON,a=q(ti,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_modifier",method:"DELETE",methodFqn:"wix.restaurants.menus_item_modifier.v1.ModifiersService.BulkDeleteModifiers",url:Ai({protoPath:"/v1/bulk/modifiers/delete",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}class Oi extends jt{async getById(e){return(await this.request(Ei,{modifierId:e})).data.modifier}async getBulk(e){var t;let n,i,a=[];if(null!=e&&null!=(t=e.ids)&&t.length){n=Ie(null==e?void 0:e.ids,200);const t=await Promise.all(n.map(async e=>{const t={filter:{id:{$in:e||[]}}},{data:n}=await this.request(Pi,{query:t});return n.modifiers||[]}));a.push(...t.flatMap(e=>e));a=ye(e.ids,a)}else{const{data:t}=await this.request(Pi,{query:{cursorPaging:null==e?void 0:e.paging}});a=t.modifiers,i=t.pagingMetadata}return{data:a,pagingMetadata:i}}async create(e){return(await this.request(Ii,{modifier:{...e}})).data.modifier}async update(e){return(await this.request(Ri,{modifier:{...e}})).data.modifier}async query(e){const t=await this.request(Pi,{query:e});return{data:t.data.modifiers,pagingMetadata:t.data.pagingMetadata}}async bulkCreate(e){return((await this.request(wi,{modifiers:e.map(e=>({...e})),returnEntity:!0})).data.results||[]).map(e=>e.modifier)}async delete(e){return(await this.request(Si,{modifierId:e})).data}async bulkDelete(e){var t;const n=await Ee(e=>this.request(ki,{ids:e}),e,75);if(null!=(t=n.bulkActionMetadata)&&t.totalFailures){var i;const e=(null==(i=n.results)?void 0:i.filter(e=>{var t;return null==(t=e.itemMetadata)?void 0:t.error}))||[],t={name:je.BULK_DELETE_MODIFIERS,message:e.map(e=>{var t;return null==(t=e.itemMetadata)?void 0:t.error}).join(", ")};throw new Error("Failed to delete modifiers",{cause:t})}return{}}async countModifiers(e){return(await this.request(xi,{filter:e})).data.count}async bulkUpdate(e){return((await this.request(_i,{modifiers:e.map(e=>({modifier:e})),returnEntity:!0})).data.results||[]).map(e=>e.modifier)}}const Ci=async e=>{let{modifiersClient:t,modifierGroups:n,populationLevel:i}=e;if(null==i?void 0:i.modifiers){const e=(e=>{const t=e.flatMap(e=>(e.modifiers||[]).map(e=>e.id)).filter(Boolean);return[...new Set(t)]})(n),i=await Ae(()=>t.getBulk({ids:e}));if(i.hasError)return i;const{data:a}=i.data;return{data:a,idsToEntityMap:he(a,"id"),hasError:!1}}return{data:[],hasError:!1}};class Mi{constructor(e){let{request:t,populationLevel:n}=e;ge(this,"populationLevel",void 0),ge(this,"modifiersClient",void 0),ge(this,"modifierGroupsClient",void 0),this.populationLevel=n,this.modifiersClient=new Oi(t),this.modifierGroupsClient=new Xn(t)}async createOrUpdate(e){let{modifierGroups:t}=e;const n=await qe({modifierGroups:t,modifierGroupsClient:this.modifierGroupsClient,modifiersClient:this.modifiersClient});return n.hasError?n:{data:n.data,hasError:!1}}async getById(e){const t=await Ae(()=>this.modifierGroupsClient.getById(e));if(t.hasError)return t;const n=await this.createPopulatedModifierGroups([t.data]);return n.hasError?n:{data:n.data[0],hasError:!1}}async getBulk(e){const t=await Ae(()=>this.modifierGroupsClient.getBulk(e));if(t.hasError)return t;const{data:n,pagingMetadata:i}=t.data,a=await this.createPopulatedModifierGroups(n);return a.hasError?a:{data:{data:a.data,pagingMetadata:i},hasError:!1}}async delete(e){return await Ae(()=>this.modifierGroupsClient.delete(e))}async bulkDelete(e){return await Ae(()=>this.modifierGroupsClient.bulkDelete(e))}async query(e){const t=await Ae(()=>this.modifierGroupsClient.query(e));if(t.hasError)return t;const n=await this.createPopulatedModifierGroups(t.data.data);return n.hasError?n:{data:{data:n.data,pagingMetadata:t.data.pagingMetadata},hasError:!1}}async createPopulatedModifierGroups(e){const t=await Ci({modifiersClient:this.modifiersClient,modifierGroups:e,populationLevel:this.populationLevel});if(t.hasError)return t;return{data:e.map(e=>{const n=t.idsToEntityMap?((e,t)=>e.map(e=>{const n=t[e.id];return n?{id:e.id,revision:n.revision,additionalChargeInfo:e.additionalChargeInfo,name:n.name,preSelected:e.preSelected,inStock:n.inStock??!0,externalReferenceInfo:n.externalReferenceInfo}:void 0}).filter(e=>void 0!==e))(e.modifiers,t.idsToEntityMap):e.modifiers;return{id:e.id,revision:e.revision,name:e.name,modifiers:n,rule:we(e.rule),businessLocationIds:e.businessLocationIds,createdDate:e.createdDate,externalReferenceInfo:e.externalReferenceInfo}}),hasError:!1}}async countModifierGroups(e){return await Ae(()=>this.modifierGroupsClient.countModifierGroups(e))}}const Li=(e,t,n,i)=>{var a,r;const o=(null==(a=e.priceVariants)?void 0:a.variants)&&n,s=o&&!ve(n)?((e,t)=>e.reduce((e,n)=>{const i=t[n.variantId];return i&&(e=[...e,{id:n.variantId,revision:i.revision,name:i.name,priceInfo:n.priceInfo,businessLocationIds:i.businessLocationIds,externalReferenceInfo:i.externalReferenceInfo}]),e},[]))(e.priceVariants.variants,n):void 0,u=o?s:null==(r=e.priceVariants)||null==(r=r.variants)?void 0:r.map(e=>({variantId:e.variantId,priceInfo:e.priceInfo})),l=e.labels&&t&&!ve(t)?((e,t)=>e.reduce((e,n)=>{const i=t[n.id];return i&&(e=[...e,{id:n.id,revision:i.revision,name:i.name,icon:i.icon,externalReferenceInfo:i.externalReferenceInfo}]),e},[]))(e.labels,t):e.labels,c=e.modifierGroups&&i&&!ve(i)?((e,t)=>e.map(e=>t[e.id]).filter(e=>void 0!==e))(e.modifierGroups,i):e.modifierGroups,d={acceptSpecialRequests:null==(p=e.orderSettings)?void 0:p.acceptSpecialRequests,inStock:null==p?void 0:p.inStock,taxGroupId:null==p?void 0:p.taxGroupId};var p;const f={id:e.id,revision:e.revision,name:e.name,description:e.description,featured:e.featured,...e.priceInfo&&{priceInfo:e.priceInfo},...u&&{priceVariants:{variants:u}},image:e.image,additionalImages:e.additionalImages,...l&&{labels:l},visible:e.visible,orderSettings:d,...c&&{modifierGroups:c},...e.businessLocationIds&&{businessLocationIds:e.businessLocationIds},createdDate:e.createdDate,externalReferenceInfo:e.externalReferenceInfo};return u||e.priceInfo||(f.priceInfo={price:"0.00"}),f},Ni=async e=>{let{labelsClient:t,items:n,populationLevel:i,cacheLabels:a}=e;if(!(null==i?void 0:i.labels))return{data:[],hasError:!1};if(!n.some(e=>(e.labels||[]).length>0))return{data:[],hasError:!1};let r=[];if(a)r=a;else{const e=await Ae(()=>t.getBulk());if(e.hasError)return e;r=e.data.data}return{data:r,idsToEntityMap:he(r,"id"),hasError:!1}},Di=async e=>{let{modifierGroupsClient:t,populatedModifierGroupsClient:n,items:i,populationLevel:a,cacheModifierGroups:r}=e;if(!(null==a?void 0:a.modifierGroups))return{data:[],hasError:!1};const o=(e=>{const t=e.flatMap(e=>(e.modifierGroups||[]).map(e=>e.id)).filter(Boolean);return[...new Set(t)]})(i);if(!(o.length>0))return{data:[],hasError:!1};let s=[];if(r)s=r;else{const e=await Ae(()=>t.getBulk({ids:o}));if(e.hasError)return e;const i=await n.createPopulatedModifierGroups(e.data.data);if(i.hasError)return i;s=i.data}return{data:s,idsToEntityMap:he(s,"id"),hasError:!1}},Ti=async e=>{let{priceVariantsClient:t,items:n,populationLevel:i,cacheVariants:a}=e;if(!(null==i?void 0:i.priceVariants))return{data:[],hasError:!1};const r=(e=>{const t=e.flatMap(e=>{var t;return((null==(t=e.priceVariants)?void 0:t.variants)||[]).map(e=>e.variantId)}).filter(Boolean);return[...new Set(t)]})(n);if(!(r.length>0))return{data:[],hasError:!1};let o=[];if(a)o=a;else{const e=await Ae(()=>t.getBulk({ids:r}));if(e.hasError)return e;o=e.data.data}return{data:o,idsToEntityMap:he(o,"id"),hasError:!1}},qi=async e=>{let{items:t,duplicatedNameCreator:n,itemsClient:i,populationLevel:a,source:r}=e;const{itemsToDuplicate:o}=(e=>{let{items:t,duplicatedNameCreator:n}=e;return{itemsToDuplicate:t.map(e=>{const{revision:t,...i}=e;return{...i,name:Me(n,e.name)}})}})({items:t,duplicatedNameCreator:n}),s=(e=>e.reduce((e,t)=>[...e,...t.modifierGroups||[]],[]))(o),u=he(s,"id"),l=((e,t)=>null!=t&&t.priceVariants?e.reduce((e,t)=>{var n;return[...e,...(null==(n=t.priceVariants)?void 0:n.variants)||[]]},[]):e.reduce((e,t)=>{var n;return[...e,...(null==(n=t.priceVariants)?void 0:n.variants)||[]]},[]))(t,a),c=null!=a&&a.priceVariants?he(l,"id"):he(l,"variantId"),d=((e,t)=>(null!=t&&t.labels,e.reduce((e,t)=>[...e,...t.labels||[]],[])))(t,a),p=he(d,"id"),f=o.map(e=>ke(e,!!e.priceVariants,a)),m=await Ae(()=>i.bulkCreate(f,r));if(m.hasError)return m;const g=m.data.map(e=>((e,t,n,i,a)=>{var r,o,s;const u=null==(r=e.priceVariants)||null==(r=r.variants)?void 0:r.map(e=>t[e.variantId]),l=null==(o=e.labels)?void 0:o.map(e=>n[e.id]),c=null==(s=e.modifierGroups)?void 0:s.map(e=>i[e.id]);return Oe(e,c,u,l,a)})(e,c,p,u,a));return{data:g,hasError:!1}};var Fi={variants:"_variant"},ji={results:"_bulkVariantResult"},Ji={},Gi={},Bi={variant:"_variant"},Vi={},Ui={},Hi={variant:"_variant"},zi={variant:"_variant"},Wi={},Ki={},Qi={lastSyncDate:"google.protobuf.Timestamp"},Xi={},$i={variant:"_variant"},Zi={},Yi={variants:"_variant"},ea={fieldMask:"google.protobuf.FieldMask",variant:"_variant"},ta={variant:"_variant"},na={createdDate:"google.protobuf.Timestamp",updatedDate:"google.protobuf.Timestamp",externalReferenceInfo:"_externalReferenceInfo"};function ia(e){return s(Object.assign(e,{domainToMappings:{"manage._base_domain_":[{srcPath:"/_api/restaurants-menus-item-variant",destPath:""}],"editor._base_domain_":[{srcPath:"/_api/restaurants-menus-item-variant",destPath:""}],"blocks._base_domain_":[{srcPath:"/_api/restaurants-menus-item-variant",destPath:""}],"create.editorx":[{srcPath:"/_api/restaurants-menus-item-variant",destPath:""}],"editor.wixapps.net":[{srcPath:"/_api/restaurants-menus-item-variant",destPath:""}],"*.dev.wix-code.com":[{srcPath:"/_api/restaurants-menus-item-variant",destPath:""},{srcPath:"/restaurants/menus/v1/variants",destPath:"/v1/variants"},{srcPath:"/restaurants/menus/v1/bulk/variants/create",destPath:"/v1/bulk/variants/create"},{srcPath:"/restaurants/menus/v1/bulk/variants/update",destPath:"/v1/bulk/variants/update"},{srcPath:"/restaurants/menus/v1/bulk/variants/delete",destPath:"/v1/bulk/variants/delete"}],"www._base_domain_":[{srcPath:"/_api/restaurants-menus-item-variant",destPath:""}],_:[{srcPath:"/_api/restaurants-menus-item-variant",destPath:""},{srcPath:"/restaurants/menus/v1/variants",destPath:"/v1/variants"},{srcPath:"/restaurants/menus/v1/bulk/variants/create",destPath:"/v1/bulk/variants/create"},{srcPath:"/restaurants/menus/v1/bulk/variants/update",destPath:"/v1/bulk/variants/update"},{srcPath:"/restaurants/menus/v1/bulk/variants/delete",destPath:"/v1/bulk/variants/delete"}],"www.wixapis.com":[{srcPath:"/restaurants/item-variants",destPath:""},{srcPath:"/restaurants/menus/v1/bulk/variants/create",destPath:"/v1/bulk/variants/create"},{srcPath:"/restaurants/menus/v1/bulk/variants/update",destPath:"/v1/bulk/variants/update"},{srcPath:"/restaurants/menus/v1/variants",destPath:"/v1/variants"},{srcPath:"/restaurants/menus/v1/bulk/variants/delete",destPath:"/v1/bulk/variants/delete"}],"api._api_base_domain_":[{srcPath:"/restaurants-menus-item-variant",destPath:""}],"apps._base_domain_":[{srcPath:"/_api/restaurants-menus-item-variant",destPath:""}]}}))}function aa(e){var t=q(Hi,{_externalReferenceInfo:Qi,_variant:na}),n=t.toJSON,i=t.fromJSON,a=q(zi,{_externalReferenceInfo:Qi,_variant:na}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_variant",method:"POST",methodFqn:"wix.restaurants.menus_item_variant.v1.VariantsService.CreateVariant",url:ia({protoPath:"/v1/variants",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function ra(e){var t=q(Xi,{}),n=t.toJSON,i=t.fromJSON,a=q($i,{_externalReferenceInfo:Qi,_variant:na}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_variant",method:"GET",methodFqn:"wix.restaurants.menus_item_variant.v1.VariantsService.GetVariant",url:ia({protoPath:"/v1/variants/{variantId}",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function oa(e){var t=q(ea,{_externalReferenceInfo:Qi,_variant:na}),n=t.toJSON,i=t.fromJSON,a=q(ta,{_externalReferenceInfo:Qi,_variant:na}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_variant",method:"PATCH",methodFqn:"wix.restaurants.menus_item_variant.v1.VariantsService.UpdateVariant",url:ia({protoPath:"/v1/variants/{variant.id}",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function sa(e){var t=q(Fi,{_externalReferenceInfo:Qi,_variant:na}),n=t.toJSON,i=t.fromJSON,a=q(ji,{_bulkVariantResult:Bi,_externalReferenceInfo:Qi,_variant:na}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_variant",method:"POST",methodFqn:"wix.restaurants.menus_item_variant.v1.VariantsService.BulkCreateVariants",url:ia({protoPath:"/v1/bulk/variants/create",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function ua(e){var t=q(Wi,{}),n=t.toJSON,i=t.fromJSON,a=q(Ki,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_variant",method:"DELETE",methodFqn:"wix.restaurants.menus_item_variant.v1.VariantsService.DeleteVariant",url:ia({protoPath:"/v1/variants/{variantId}",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function la(e){var t=q(Zi,{}),n=t.toJSON,i=t.fromJSON,a=q(Yi,{_externalReferenceInfo:Qi,_variant:na}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_variant",method:"POST",methodFqn:"wix.restaurants.menus_item_variant.v1.VariantsService.QueryVariants",url:ia({protoPath:"/v1/variants/query",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function ca(e){var t=q(Vi,{}),n=t.toJSON,i=t.fromJSON,a=q(Ui,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_variant",method:"POST",methodFqn:"wix.restaurants.menus_item_variant.v1.VariantsService.CountVariants",url:ia({protoPath:"/v1/variants/count",data:r,host:i}),data:r,transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}function da(e){var t=q(Ji,{}),n=t.toJSON,i=t.fromJSON,a=q(Gi,{}).fromJSON;function r(t){var i=t.host,r=n(e);return{entityFqdn:"wix.restaurants.menus.v1.item_variant",method:"DELETE",methodFqn:"wix.restaurants.menus_item_variant.v1.VariantsService.BulkDeleteVariants",url:ia({protoPath:"/v1/bulk/variants/delete",data:r,host:i}),params:P(r),transformResponse:a}}return r.fromReq=i,r.__isAmbassador=!0,r}class pa extends jt{async getById(e){return(await this.request(ra,{variantId:e})).data.variant}async getBulk(e){var t;let n,i,a=[];if(null!=e&&null!=(t=e.ids)&&t.length){n=Ie(null==e?void 0:e.ids,100);const t=await Promise.all(n.map(async e=>{const t={filter:{id:{$in:e||[]}}},{data:n}=await this.request(la,{query:t});return n.variants||[]}));a.push(...t.flatMap(e=>e));a=ye(e.ids,a)}else{const{data:t}=await this.request(la,{query:{cursorPaging:null==e?void 0:e.paging}});a=t.variants,i=t.pagingMetadata}return{data:a,pagingMetadata:i}}async create(e){return(await this.request(aa,{variant:e})).data.variant}async update(e){return(await this.request(oa,{variant:e})).data.variant}async query(e){const t=await this.request(la,{query:e});return{data:t.data.variants,pagingMetadata:t.data.pagingMetadata}}async bulkCreate(e){return((await this.request(sa,{variants:e,returnEntity:!0})).data.results||[]).map(e=>e.variant)}async delete(e){return(await this.request(ua,{variantId:e})).data}async bulkDelete(e){var t;const n=await Ee(e=>this.request(da,{ids:e}),e,75);if(null!=(t=n.bulkActionMetadata)&&t.totalFailures){var i;const e=(null==(i=n.results)?void 0:i.filter(e=>{var t;return null==(t=e.itemMetadata)?void 0:t.error}))||[],t={name:je.BULK_DELETE_VARIANTS,message:e.map(e=>{var t;return null==(t=e.itemMetadata)?void 0:t.error}).join(", ")};throw new Error("Failed to delete variants",{cause:t})}return{}}async countVariants(e){return(await this.request(ca,{filter:e})).data.count}}class fa{constructor(e){let{request:t,populationLevel:n}=e;ge(this,"populationLevel",void 0),ge(this,"itemsClient",void 0),ge(this,"labelsClient",void 0),ge(this,"modifiersClient",void 0),ge(this,"variantsClient",void 0),ge(this,"modifierGroupsClient",void 0),ge(this,"populatedModifierGroupsClient",void 0),this.populationLevel=n,this.itemsClient=new Jt(t),this.labelsClient=new hn(t),this.modifiersClient=new Oi(t),this.variantsClient=new pa(t),this.modifierGroupsClient=new Xn(t);const i={modifiers:!(null==n||!n.modifiers)};this.populatedModifierGroupsClient=new Mi({request:t,populationLevel:i})}async createOrUpdate(e){let{item:t,isPriceVariantsToggled:n,itemModifierGroupsToCreate:i,itemPriceVariantsToCreate:a,source:r}=e;const o=await(async e=>{var t,n,i,a,r;let o,s,{item:u,itemsClient:l,modifierGroupsClient:c,modifiersClient:d,priceVariantsClient:p,isPriceVariantsToggled:f,itemModifierGroupsToCreate:m,itemPriceVariantsToCreate:g,populationLevel:h,source:v}=e;const b=u.labels;if(m&&(o=await qe({modifierGroups:m,modifierGroupsClient:c,modifiersClient:d})),null!=(t=o)&&t.hasError)return o;if(f&&g&&(s=await Fe(g||[],p)),null!=(n=s)&&n.hasError)return s;const y=(e=>{let{item:t,createdModifierGroups:n,createdPriceVariants:i}=e;const a=((e,t)=>t||e.modifierGroups)(t,n),r=((e,t)=>{var n;return t||(null==(n=e.priceVariants)?void 0:n.variants)})(t,i);return{...t,...a&&{modifierGroups:a},...r&&{priceVariants:{variants:r}}}})({item:u,createdModifierGroups:null==(i=o)?void 0:i.data,createdPriceVariants:null==(a=s)?void 0:a.data}),A=ke(y,f,h),I=await Ae(()=>u.id?l.update(A):l.create(A,v));return I.hasError?I:{data:Oe(I.data,y.modifierGroups,null==(r=y.priceVariants)?void 0:r.variants,b,h),hasError:!1}})({item:t,itemsClient:this.itemsClient,modifierGroupsClient:this.modifierGroupsClient,modifiersClient:this.modifiersClient,priceVariantsClient:this.variantsClient,itemModifierGroupsToCreate:i,itemPriceVariantsToCreate:a,populationLevel:this.populationLevel,isPriceVariantsToggled:n,source:r});return o.hasError?o:{data:o.data,hasError:!1}}async getById(e,t){const n=await Ae(()=>this.itemsClient.getById(e));if(n.hasError)return n;const i=await this.createPopulatedItems([n.data],t);return i.hasError?i:{data:i.data[0],hasError:!1}}async getBulk(e,t){const n=await Ae(()=>this.itemsClient.getBulk(e));if(n.hasError)return n;const{data:i,pagingMetadata:a}=n.data,r=await this.createPopulatedItems(i,t);return r.hasError?r:{data:{data:r.data,pagingMetadata:a},hasError:!1}}async getOptimizedBulk(e,t){var n;let i;if(null!=e&&null!=(n=e.ids)&&n.length||null!=e&&e.filter){const t=void 0===(null==e?void 0:e.onlyVisible)?null==e?void 0:e.filter:{...null==e?void 0:e.filter,visible:{$eq:null==e?void 0:e.onlyVisible}};i=await Ae(()=>this.itemsClient.getBulk({...e,filter:t}))}else i=await Ae(()=>this.itemsClient.getListBulk({paging:null==e?void 0:e.paging,onlyVisible:null==e?void 0:e.onlyVisible}));if(i.hasError)return i;const{data:a,pagingMetadata:r}=i.data,o=await this.createPopulatedItems(a,t);return o.hasError?o:{data:{data:o.data,pagingMetadata:r},hasError:!1}}async getListBulk(e,t){const n=await Ae(()=>this.itemsClient.getListBulk(e));if(n.hasError)return n;const{data:i,pagingMetadata:a}=n.data,r=await this.createPopulatedItems(i,t);return r.hasError?r:{data:{data:r.data,pagingMetadata:a},hasError:!1}}async query(e,t){const n=await Ae(()=>this.itemsClient.query(e));if(n.hasError)return n;const i=await this.createPopulatedItems(n.data.data,t);return i.hasError?i:{data:{data:i.data,pagingMetadata:n.data.pagingMetadata},hasError:!1}}async countItems(e,t){return await Ae(()=>this.itemsClient.countItems(e,t))}async delete(e){const t=await Ae(()=>this.itemsClient.delete(e));if(t.hasError)return t}async bulkDelete(e){const t=await Ae(()=>this.itemsClient.bulkDelete(e));if(t.hasError)return t}async bulkUpdate(e){const t=e.map(e=>{var t;return ke(e,!(null==(t=e.priceVariants)||!t.variants),this.populationLevel)}),n=await Ae(()=>this.itemsClient.bulkUpdate(t));return n.hasError,n}async duplicate(e){let{items:t,duplicatedNameCreator:n,source:i}=e;return await qi({items:t,duplicatedNameCreator:n,itemsClient:this.itemsClient,populationLevel:this.populationLevel,source:i})}async search(e,t){const n=await Ae(()=>this.itemsClient.search(e));if(n.hasError)return n;const i=await this.createPopulatedItems(n.data.data,t);return i.hasError?i:{data:{data:i.data,pagingMetadata:n.data.pagingMetadata},hasError:!1}}async getBulkAllPages(e,t,n){const i=async(t,n)=>{var a;const r=await Ae(()=>this.itemsClient.getBulk({...e,paging:t}));if(r.hasError)throw r.error;const{data:o=[],pagingMetadata:s}=r.data,u=[...n||[],...o];return null!=s&&s.hasNext?i({cursor:null==(a=s.cursors)?void 0:a.next},u):u};try{const e=await i();if(n){const n=await this.createPopulatedItemsWithCache(e,t);return n.hasError?n:{data:n.data,hasError:!1}}{const n=await this.createPopulatedItems(e,t);return n.hasError?n:{data:n.data,hasError:!1}}}catch(e){return{error:e,hasError:!0}}}async createPopulatedItems(e,t){const[n,i,a]=await Promise.all([Ni({labelsClient:this.labelsClient,items:e,populationLevel:this.populationLevel,cacheLabels:null==t?void 0:t.labels}),Ti({priceVariantsClient:this.variantsClient,modifiersClient:this.modifiersClient,items:e,populationLevel:this.populationLevel,cacheVariants:null==t?void 0:t.variants}),Di({modifierGroupsClient:this.modifierGroupsClient,populatedModifierGroupsClient:this.populatedModifierGroupsClient,items:e,populationLevel:this.populationLevel,cacheModifierGroups:null==t?void 0:t.modifierGroups})]);if(n.hasError||i.hasError||a.hasError)return[n,i,a].find(e=>{let{hasError:t}=e;return t});return{data:e.map(e=>Li(e,n.idsToEntityMap,i.idsToEntityMap,a.idsToEntityMap)),hasError:!1}}async createPopulatedItemsWithCache(e,t){var n,i,a,r;const[o,s,u]=await Promise.all([Ni({labelsClient:this.labelsClient,items:e,populationLevel:this.populationLevel,cacheLabels:null==t?void 0:t.labels}),Ti({priceVariantsClient:this.variantsClient,modifiersClient:this.modifiersClient,items:e,populationLevel:this.populationLevel,cacheVariants:null==t?void 0:t.variants}),Di({modifierGroupsClient:this.modifierGroupsClient,populatedModifierGroupsClient:this.populatedModifierGroupsClient,items:e,populationLevel:this.populationLevel,cacheModifierGroups:null==t?void 0:t.modifierGroups})]);if(o.hasError||s.hasError||u.hasError)return[o,s,u].find(e=>{let{hasError:t}=e;return t});return{data:{items:e.map(e=>Li(e,o.idsToEntityMap,s.idsToEntityMap,u.idsToEntityMap)),entities:{labels:null!=(n=this.populationLevel)&&n.labels?o.idsToEntityMap?Object.values(o.idsToEntityMap):[]:void 0,variants:null!=(i=this.populationLevel)&&i.priceVariants?s.idsToEntityMap?Object.values(s.idsToEntityMap):[]:void 0,modifierGroups:null!=(a=this.populationLevel)&&a.modifierGroups?u.idsToEntityMap?Object.values(u.idsToEntityMap):[]:void 0,modifiers:null!=(r=this.populationLevel)&&r.modifiers?this.extractModifiersFromModifierGroups(u.idsToEntityMap):void 0}},hasError:!1}}extractModifiersFromModifierGroups(e){if(!e)return[];const t=[];return Object.values(e).forEach(e=>{e.modifiers&&Array.isArray(e.modifiers)&&t.push(...e.modifiers)}),t}}const ma=e=>async(t,n)=>{if("signedInstance"in e){if(!e.withErrorHandler)return e.httpClient.request(t(n),{signedInstance:e.signedInstance});try{return await e.withErrorHandler(()=>e.httpClient.request(t(n),{signedInstance:e.signedInstance}),{errorCodesMap:{}})}catch(t){throw e.getResolvedError&&e.getResolvedError(t),t}}if(e.withErrorHandler)try{return await e.withErrorHandler(()=>e.httpClient.request(t(n)),{errorCodesMap:{}})}catch(t){throw e.getResolvedError&&e.getResolvedError(t),t}return e.httpClient.request(t(n))},ga={labels:!1,modifiers:!1,modifierGroups:!1,priceVariants:!1},ha=e=>{let{httpClient:t,populationLevel:n=ga,getResolvedError:i,withErrorHandler:a}=e;return(e=>{const t=ma(e);return new fa({request:t,populationLevel:e.populationLevel})})({httpClient:t,populationLevel:n,getResolvedError:i,withErrorHandler:a})};const va={sections:!0,items:!0};const ba=async e=>{var t;let{ids:n,entities:i,getEntities:a,maxNumberOfEntitiesToLoad:r,optimizedBulk:o=!1}=e;if(null!=i&&null!=(t=i.pagingMetadata)&&t.hasNext){const e=n.reduce((e,t)=>i.data.find(e=>e.id===t)?e:[...e,t],[]);if(e.length>0){const t=(s=r||500,e.reduce((e,t,n)=>{const i=Math.floor(n/s);return e[i]||(e[i]=[]),e[i].push(t),e},[])),n=await Promise.all(t.map(e=>a({ids:e,optimizedBulk:o})));i.data.push(...n.flatMap(e=>e.data))}}var s},ya=(e,t)=>{const n=z(e,t),i=pe(e,t),a=((e,t)=>{const n=ha({httpClient:e,populationLevel:oe});return{get:e=>{let{id:i}=e;const a=async()=>{const e=await n.getById(i);if(e.hasError)throw e.error;return{data:e.data}};return null!=t&&t.withErrorHandler?t.withErrorHandler(a,{errorCodesMap:{}}):a()},getAll:e=>{let{ids:i,paging:a,optimizedBulk:r=!1}=e;const o=async()=>{let e;if(r)e=await n.getOptimizedBulk({ids:i,paging:a,onlyVisible:!0});else{const t={visible:{$eq:!0}};e=await n.getBulk({ids:i,paging:a,filter:t})}if(e.hasError)throw e.error;return{data:e.data.data,pagingMetadata:e.data.pagingMetadata}};return null!=t&&t.withErrorHandler?t.withErrorHandler(o,{errorCodesMap:{}}):o()}}})(e,t);return{getAll:async e=>{let{paging:r,optimizedBulk:o=!1,onlyVisible:s}=e;const u=e=>{throw null!=t&&t.getResolvedError&&t.getResolvedError(e),e},[l,c,d]=await Promise.all([n.getAll({paging:r,onlyVisible:s}).catch(u),i.getAll({paging:r}).catch(u),a.getAll({paging:r,optimizedBulk:o}).catch(u)]);return await(async e=>{let{menus:t,sections:n,getSections:i,populatedItems:a,getPopulatedItems:r,maxNumberOfEntitiesToLoad:o,optimizedBulk:s=!1}=e;const u=[...new Set(t.flatMap(e=>e.sectionIds||[]))];await ba({ids:u,entities:n,getEntities:i,maxNumberOfEntitiesToLoad:o});const l=[...new Set(n.data.flatMap(e=>e.itemIds||[]))];await ba({ids:l||[],entities:a,getEntities:r,maxNumberOfEntitiesToLoad:o,optimizedBulk:s})})({menus:l.data,sections:c,getSections:function(){return i.getAll(...arguments).catch(u)},populatedItems:d,getPopulatedItems:function(){return a.getAll(...arguments).catch(u)},maxNumberOfEntitiesToLoad:null==r?void 0:r.limit,optimizedBulk:o}),{data:l.data.map(e=>function(e,t,n,i){var a;void 0===i&&(i=va);const r=null==(a=e.sectionIds)||null==(a=a.map(e=>t.find(t=>t.id===e)))?void 0:a.filter(e=>!!e),o=null==r?void 0:r.map(e=>{var t;const a=i.items?null==e||null==(t=e.itemIds)||null==(t=t.map(e=>n.find(t=>t.id===e)))?void 0:t.filter(e=>!!e&&!1!==e.visible):[];return{...e,items:a}});return{...e,sections:o}}(e,c.data,(null==d?void 0:d.data)??[]))}}}};var Aa=n(929),Ia=n.n(Aa);class Ea{constructor(e){this.error=e,Ia()(this,"response",void 0),this.response=e.response}get message(){var e,t;return(null==(e=this.response)||null==(e=e.data)?void 0:e.message)??(null==(t=this.response)||null==(t=t.data)?void 0:t.error)??this.error.message}get requestId(){var e;return null==(e=this.response)||null==(e=e.headers)?void 0:e["x-wix-request-id"]}get status(){var e;return(null==(e=this.response)?void 0:e.status)??void 0}get statusText(){var e;return(null==(e=this.response)?void 0:e.statusText)??"unknown"}get type(){return this.error?this.response?"api":"network":"unknown"}get shouldBeMonitored(){return"api"===this.type}get shouldNotIncludeInPanoramaMetrics(){return Ra.includes(this.status)}get asException(){return this.error instanceof Error?this.error:new Error(this.message)}}const Ra=[401,403,404],wa=e=>{let{panorama:t,shouldReportErrorPanorama:n}=e;return async(e,i)=>{t.transaction(i.toString()).start();const{data:a,error:r}=await(async e=>{let t,n;try{n=await e()}catch(e){t=new Ea(e)}return{data:n,error:t}})(e);if(t.transaction(i.toString()).finish(),n&&r){const e=new Error(`[${i.toString()}] - ${r.message}`);t.errorMonitor().reportError(e,{context:{error:r},tags:{layer:"api",name:i.toString(),requestId:r.requestId}})}return{data:a,error:r}}};class _a{constructor(e,t){this.warmupData=e,this.isSSR=t,this.manageData=this.manageData.bind(this)}async manageData(e,t){let n;return this.isSSR||(n=this.warmupData.get(t)),n||(n=await e(),this.isSSR&&this.warmupData.set(t,n)),n}}const Sa=e=>e.isEditor?"editor":e.isEditorX?"editor x":e.isADI?"adi":e.isPreview?"preview":e.isMobile?"mobile":e.isViewer?"viewer":void 0,Pa=JSON.parse('{"id":"3f7c620e-526a-4dbb-afff-6fb77bfa8dcc"}');var xa=function(){return xa=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},xa.apply(this,arguments)};function ka(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;function Oa(e){return Object.keys(e).reduce(function(t,n){return t[n]=xa(xa({},e[n]),{key:e[n].key||n}),t},{})}var Ca;!function(e){e.Number="Number",e.Boolean="Boolean",e.String="String",e.Text="Text",e.Object="Object"}(Ca||(Ca={}));let Ma=function(e){return e.All="all",e.Specific="specific",e}({});const La=Oa({menusDisplayOrder:{type:Ca.Object,getDefaultValue:()=>{}},menusDisplayOption:{type:Ca.String,getDefaultValue:()=>Ma.All},locationDisplayOrder:{type:Ca.Object,getDefaultValue:()=>{}}}),Na=n.p+"media/menus_side_image.7077f229.jpeg",Da={...La,...Oa({checkPlaceholderMenu:{type:Ca.Object,getDefaultValue:()=>{}},checkPricingMenus:{type:Ca.Object,getDefaultValue:()=>{}},imagePlaceholder:{type:Ca.Object,getDefaultValue:()=>({url:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkJCQkJCQoLCwoODw0PDhQSERESFB4WFxYXFh4uHSEdHSEdLikxKCUoMSlJOTMzOUlUR0NHVGZbW2aBeoGoqOIBCQkJCQkJCgsLCg4PDQ8OFBIRERIUHhYXFhcWHi4dIR0dIR0uKTEoJSgxKUk5MzM5SVRHQ0dUZltbZoF6gaio4v/CABEIAfoB+gMBIgACEQEDEQH/xAAbAAEBAAMBAQEAAAAAAAAAAAAABgIEBQEDB//aAAgBAQAAAAD9hAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmfQADUsAAAAAAAAmqUAAmqUAAAAAAAJqlJ/wA9UBwubXk1SgAAAAAABNUpNClTvR5dKTVKAAAAAAAE1Sk0KXQ0u5NUpNUoAAAAAAATVKQ+417SZpk1Sk1SgAAAAAABNUpNUvk3SzVKmqUmqUAAAAAAAJqlNDna9D95qlTVKTVKAAAAAAAE1SiaUqapU1Sk1SgAAAAAABNUomlKmqVNUpNUoAAAAAAATVKJpSpzHR078mqUAAAAAAAJqlE0pRNKUmqUAAAAAAAJqlE0pRNKUmqUAAAAAAAJqlE0pRNKUmqUAAAAAAAJqlEpnUCQV5NUoAAAAAAATVKMMvRrZ/YmqUAAAAAAAJDaAAOXcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMgAAAAAAAAAB//xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oACAECEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/EACkQAAAFAwQCAwACAwAAAAAAAAMEBQY2AAIgARUWUBBGExRFI6ASIkD/2gAIAQEAAQgA/rrmjSqeVByCftjira3FW1uKtrcVbW4q2txVtbira3FW1uKtrcVbW4q2txVtbira3FW1uGjYi6hB6HB+vTJE4/8Agd8dP9gmSJx4KIwwa83w7PmF5V8FJwo168vh3t8Ucbefm8n10uUG+oWsOrwaykgnfLvjp/sEyROPBTkLbr3DSkyROOm1+35UzxkY3akp6cllEsD4wFOQtvB3x0/2CZInHgpyFt17hpSZInHTa/b8KR2xNTzJu9CIXEyfyj0pyFt4O+On+wTJE48HIB9txtQtXEgvs/aoNoghDjDWMuy4MBeDupw/zjIpDypyFt4O+On+wTJE48Ff+Jabg93hr/7llIxbSpIW15U5C28HfHT/AGCZInHgpJ4KmUvLDJBw5aZMJSgpim1I9ejkypYEoXCLg0pyFt+VOQtvB3x0/wBgmSJx4+4UmSJx+VOQtvypyFt4O+On+wTJE48fcNKTJE4/KnIW35U5C28HfHT/AGCZInHj7hpSZInH5XC5u0wmKJbkdWPMK/UXQHetzcjfswd8dP8AYJkicePuGlJkiceLa/bpTkLbwd8dP9gmSJx4+4aUmSJx4tr9ulOQtvB3x0/2CZInHj7hpSZInHi2v26U5C28HfHT/YJkiceJ4cJNcgJ00giaG1NcPg4JB4omG1oqdGNl1Nxo/wBLy746f7BMkTjxvssEt/xv00ts0000wHJEzWtv2QCpYpbrYX8u+On+wFNBoa4pGjnL29XL29XL29XL29XL29XL29XL29XL29XL29XL29XL29XL29XL29XL29XL29Ssrkl8ntib/YY//8QAORABAQABAgQBCwICCgMAAAAAAAECAxAEEmSzEwUGESExQVVjgaOkFMMjYRUyMzRCUVRgYnFylNL/2gAIAQEACT8AiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiJtERERERERERERERERERERERERERERERERERERERERETaIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIm0RERERERERERERERERERERERERERERERERERERERERNoiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIibRERERERERERERERERERERERERERERERERERERERERE2iIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiJtERERERERERERERERERERERERERERERERERERERERETaIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIm0RERERERERERERERERERERERERERERERERERERERERNoiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIibRERERERERERERERERERERERERERERERERERERERERE2iIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiJtERERERERERERERERERERERERERERERERERERERERETaIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIm0RERERERERERERERERERERERERERERERERERERERERNoiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIibRERERERERERERERERERERERERERERERERERERERERE2iIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiJtERERERERERERERERERERERERERERERERERERERERETaIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIm0RERERERERERERERERERERERERERERERERERERERERNoiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIibRERERERERERERERGvhwuPDYYZa+tdOamXNqevHHHF5yfhabzk/C03nJ+FpvOT8LTecn4Wm85PwtN5yfhabzk/C03nJ+FpvOT8LTecn4Wm85PwtN5yfhabzk/C03nJ+FpvKGHGcNhnjNbC6GOlljjn78eVERERERERERERERE2iIiIiIiIiIiIiIiOj7aIiIiIiIiIj5XcxRERERERERERERERNoiIiIiIiIiIiIiIjo+2iI1MscNT9Vz4T2ZejBq5+F/RXP4f8Ah5/F9rUzunp/pOTC31YenD3NTPPk8qcRp4c2Xp5cJ6PV9ERGjnxXG+7R0/d/5Ze5loaejxPj/wADSnp9E08Ob15IiPldzFERERERERERERERE2iIiIiIiIiIiIiIiOj7aIjq+2+D/vOj7b4xxKIvLxGWMuvrf6fD/wCqw9d9eepfXnnl/nk6vtoiPldzFERERERERERERERE2iIiIiIiIiIiIiIiOj7aIjq+2+D/ALzo+2+McSj0fwsLfr7MZ9Xr4visvG4jP+efrmP0R1fbREfK7mKIiIiIiIiIiIiIiJtEREREREREREREREdH20RHEa+hM/1vpz0cuXP1abyx5W8XwvC5v1H1eWfK81NXl8T+P7eT6NTPPwvLfFYc+frzR7Nfjccs5/w0pzIjq+2iI+V3MURERERERERERERETaIiIiIiIiIiIiIiI6PtoiPVp4auvpfXVw9GKI/s+I8p8Rq6f88ajq+2iOr7aIj5XcxRERERERERERERERNoiIiIiIiIiIiIiIjo+2iI9Xp9Fxzntwznsyx/6WZcVw+OOWOr7PF077/oz8HDHSmXF63vxxz9mGLHl09PGY4xHV9tEdX20RHyu5iiIiIiIiIiIiIiIibRERERERERERERERHR9tERHwf950fbRHV9tEdX20RHyu5iiIiIiIiIiIiIiIibRERERERERERERERHR9tERHwf950fbRHV9tEdX20RHyu5iiIiIiIiIiIiIiIibRERERERERERERERHR9tERHwf950fbRGhdbLgs9Tm0sfbcNXHly5XkLyx/6zyD5b1PDzy08/D4X2Z/R5L8pcJyfqvXxWj4ft0/r9URHyu5iiIiIiIiIiIiIiIibRERERERERERERERHR9tERHwf950fbRER8Y4l1fb2iPldzFERERERERERERERE2iIiIiIiIiIiIiIiOj7aIiPg/wC86PtoiI+McS6vtoiPldzFERERERERERERERE2iIiIiIiIiIiIiIiOj7aIiPg/7zo+2iIj4xxLq+2iI+V3MURERERERERERERETaIiIiIiIiIiIiIiI6PtoiIvh8NqeT7oeL7pnM+d/dtfPQw0s/R/Wulhy5fRERGvp8PqZcfq6+PiZcuOWGr7GpjrY8JhxGetnp+vHGamHLj69oj5XcxRERERERERERERERNoiIiIiIiIiIiIiIjo+2iIjCZT3yyWJJJPpP5RERHCaOry+zxNPHL0f9elw+npY+n2aeMxkv0iIj5XcxRERERERERERERERNoiIiIiIiIiIiIiIjHPHhuNw0LhrY482OOWljy3HJx32tRx32tRx32tRx32tRx32tRx32tRx32tRx32tRx32tRx32tRx32tRx32tRx32tRx32tRx32tRlnr62vnhMspp5Y46eMz5ubLmRERERERERERERERNoiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIibRERERERERERERERERERERERERERERERERERERERERE2iIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiJtERERERERERERERERERERERERERERERERERERERERETaIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIm0RERERERERERERERERERERERERERERERERERERERERNoiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIibRERERERERERERERERERERERERERERERERERERERERE2iIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiJtERERERERERERERERERERERERERERERERERERERERETaIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIm0RERERERERERERERERERERERERERERERERERERERERNoiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIibRERERERERERERERERERERERERERERERERERERERERE2iIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiJtERERERERERERERERERERERERERERERERERERERERETaIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIm0RERERERERERERERERERERERERERERERERERERERERNoiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIibRERERERERERERERERERERERERERERERERERERERERE2iIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiJtERERERERERERERERERERERERERERERERERERERERETaIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIn+wv//EABQRAQAAAAAAAAAAAAAAAAAAAKD/2gAIAQIBAT8AAB//xAAUEQEAAAAAAAAAAAAAAAAAAACg/9oACAEDAQE/AAAf/9k="})},menusSideImage:{type:Ca.Object,getDefaultValue:()=>({url:Na})},showZeroPrice:{type:Ca.Boolean,getDefaultValue:()=>!1},showZeroPriceToAll:{type:Ca.Boolean,getDefaultValue:()=>!0},showImagePlaceholder:{type:Ca.Boolean,getDefaultValue:()=>!1},showPlaceholderToAll:{type:Ca.Boolean,getDefaultValue:()=>!0},showModifierIcon:{type:Ca.Boolean,getDefaultValue:()=>!0}}),...Oa({useLabelIconColor:{type:Ca.Boolean,getDefaultValue:()=>!0},overrideItemDesign:{type:Ca.Boolean,getDefaultValue:()=>!1}})};var Ta="RESTAURANTS_MENU_PAGE",qa="RESTAURANTS_MENU_COMPONENT";const Fa=e=>e.reduce((e,t)=>{var n,i;const a=t.businessLocationId,r=null==(n=t.businessLocationDetails)?void 0:n.name,o=null==(i=t.businessLocationDetails)?void 0:i.archived;return a&&r&&!o&&(e[a]=r),e},{});let ja;const Ja=e=>{var t;let{flowAPI:n}=e;const i=(e=>{var t;const{controllerConfig:n,getCurrencyFormatter:i,environment:{multilingual:a}}=e;let r;const o=n.wixCodeApi.site.currency,s=n.wixCodeApi.site.language||"en";var u;r=null!=a&&a.isEnabled&&null!=a&&a.currentLanguage?null==(u=a.siteLanguages.find(e=>e.languageCode===a.currentLanguage))?void 0:u.locale:n.wixCodeApi.site.regionalSettings;const[l,c]=(null==(t=r)?void 0:t.split("-"))||"";return e=>{let{price:t,shouldDisplayCurrency:n=!0}=e,a={country:c||"us",language:l||s,parts:!n||!o};const[,r=""]=t.split(".");let u=0;r.length>0&&(u=Math.min(3,r.length)),a={...a,minimumFractionDigits:u,maximumFractionDigits:3};const d=i(a)({currency:o||"USD",value:t});return n&&o?d:d.reduce((e,t)=>"currency"!==t.type?e+t.value:e,"")}})(n),a=(e=>t=>{var n;let{isFirst:i,urlQueryParam:a,menuId:r,locationName:o}=t;const{location:s}=null==e||null==(n=e.controllerConfig)?void 0:n.wixCodeApi;if(s)if(s.queryParams.remove(["sectionId"]),o&&s.queryParams.add({location:o}),i)s.queryParams.remove(["menu"]);else if(a)s.queryParams.add({menu:a});else{if(!r)throw new Error("menu.urlQueryParam or menu.id must be provided");s.queryParams.add({menuId:r})}})(n),r=new _a(n.controllerConfig.wixCodeApi.window.warmupData,n.environment.isSSR),{environment:o,settings:s,experiments:u}=n,{site:l,location:c,seo:d}=null==n||null==(t=n.controllerConfig)?void 0:t.wixCodeApi,p=n.essentials.errorHandler,f=wa({panorama:n.panoramaClient}),m=u.enabled("specs.restaurants.editorGetOptimizedBulk"),g=()=>f(()=>ya(n.essentials.httpClient,p).getAll({optimizedBulk:m}),"get-populate-menus");return ja||(ja=r.manageData(g,"populatedMenus")),{async pageReady(){var e,t,r;const u=await(async e=>{var t;return(null==(t=(await e.getSiteStructure({includePageId:!0})).pages.find(t=>{var n;return t.id===(null==(n=e.currentPage)?void 0:n.id)}))?void 0:t.tpaPageId)===ue})(l),f=s.get(Da.menusDisplayOrder),m=s.get(Da.menusDisplayOption);let g;if(ja)try{const{data:e,error:t}=await ja||{};if(t)throw t.asException;const r=null!=e&&e.data?((e,t)=>e.map(e=>({...e,sections:e.sections.map(e=>{var n;return{...e,items:null==(n=e.items)?void 0:n.map(e=>{var n;let i=e.priceInfo,a=e.priceVariants,r=e.modifierGroups;var o;if(r&&(r=null==(o=r)?void 0:o.map(e=>{var n;return{...e,modifiers:null==(n=e.modifiers)?void 0:n.map(e=>{var n;const i=(null==e||null==(n=e.additionalChargeInfo)?void 0:n.additionalCharge)??"";return{...e,additionalChargeInfo:{...e.additionalChargeInfo,formattedAdditionalCharge:null==t?void 0:t({price:i,shouldDisplayCurrency:!0}),additionalCharge:null==t?void 0:t({price:i,shouldDisplayCurrency:!1})}}})}})),i){var s;const e=(null==(s=i)?void 0:s.price)??"";i={...i,formattedPrice:null==t?void 0:t({price:e,shouldDisplayCurrency:!0}),formattedPriceNoCurrency:null==t?void 0:t({price:e,shouldDisplayCurrency:!1})}}else if(null!=(n=a)&&n.variants){var u;a={variants:null==(u=a)||null==(u=u.variants)?void 0:u.map(e=>{var n;const i=(null==(n=e.priceInfo)?void 0:n.price)??"";return{...e,priceInfo:{...e.priceInfo,formattedPrice:null==t?void 0:t({price:i,shouldDisplayCurrency:!0}),formattedPriceNoCurrency:null==t?void 0:t({price:i,shouldDisplayCurrency:!1})}}})}}return{...e,priceInfo:i,priceVariants:a,modifierGroups:r}})}})})))(e.data,i):[],s=f?(e=>{let{menusDisplayOrder:t,menus:n,menusDisplayOption:i}=e;const a=(e=>e.reduce((e,t)=>({...e,[t.id]:t}),{}))(n),r=i===Ma.All,o=t.reduce((e,t)=>{const n=a[t.id];return n&&((r||t.checked)&&(e=e.concat(n)),delete a[t.id]),e},[]);return r&&Object.values(a).forEach(e=>{o.push(e)}),o.filter(e=>{var t;return!(null!=(t=e.businessLocationDetails)&&t.archived)})})({menusDisplayOrder:f,menus:r,menusDisplayOption:m}):r.filter(e=>{var t;return!(null!=(t=e.businessLocationDetails)&&t.archived)}),{activeTab:p,initialLocation:h}=(e=>{let{urlQuery:t={},displayableMenus:n}=e;const i=t.menu,a=t.menuId,r=t.location;if(r){var o;const e=null==(o=n.find(e=>{var t;return(null==(t=e.businessLocationDetails)?void 0:t.name)===r}))?void 0:o.businessLocationId,t=n.filter(t=>t.businessLocationId===e);if(t.length>0){if(!i&&!a)return{activeTab:0,initialLocation:e};const n=t.find(e=>i?e.urlQueryParam===i||e.urlQueryParam===encodeURIComponent(i):e.id===a);return n?{activeTab:t.findIndex(e=>e.id===n.id),initialLocation:e}:{activeTab:0,initialLocation:e}}}if(!i&&!a)return{activeTab:0,initialLocation:n.length>0?n[0].businessLocationId:void 0};const s=n.find(e=>i?e.urlQueryParam===i||e.urlQueryParam===encodeURIComponent(i):e.id===a);if(!s)return{activeTab:-1,initialLocation:void 0};const u=s.businessLocationId;return{activeTab:n.filter(e=>e.businessLocationId===u).findIndex(e=>e.id===s.id),initialLocation:u}})({urlQuery:c.query,displayableMenus:s});g=s[p];const v={menus:r,locations:Fa(r),navigateTo:a,url:c.url,fitToContentHeight:!0,initialActiveTab:p,initialLocation:h};if(n.controllerConfig.setProps(v),g)try{await(async e=>{var t,n;let{baseUrl:i,site:a,isCurrentPageMenusDefaultPage:r,multilingual:o,menusDisplayOrder:s,menus:u,seo:l,activeMenu:c,t:d}=e;const p=i,f=`?menu=${encodeURIComponent(c.urlQueryParam??"")}`,m=(e=>{let{activeMenu:t,pageUrl:n,multilingual:i,menusDisplayOrder:a,firstMenu:r}=e;const o=t.sections.flatMap(e=>e.items),s=(null==a?void 0:a[0].id)===t.id||(null==r?void 0:r.id)===t.id;return{menu:{...t,url:n,isMainMenu:s},items:o,translatedPages:i}})({activeMenu:c,pageUrl:p+((null==(t=a.currentPage)?void 0:t.url)??"")+f,multilingual:o,menusDisplayOrder:s,firstMenu:u[0]});l.renderSEOTags({itemType:r?Ta:qa,itemData:m,seoData:(null==c||null==(n=c.extendedFields)||null==(n=n.namespaces)||null==(n=n["@restaurants/menus"])?void 0:n.seoData)||{}});const g=(e=>{let{siteStructure:t,baseUrl:n,t:i,site:a}=e;const r=(e=>{var t;let{siteStructure:n,baseUrl:i,t:a,site:r}=e;const{pages:o}=n,s={name:a("app.breadcrumbs.labels.home"),url:"/"},u=null==(t=r.currentPage)?void 0:t.id,l=o.find(e=>e.id===u);return[{id:"1",value:s.name,href:`${i}${s.url}`},{id:"2",value:l.name??a("app.breadcrumbs.labels.menus"),href:`${i}${l.url}`}]})({siteStructure:t,baseUrl:n,t:i,site:a});return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:r.map((e,t)=>({"@type":"ListItem",position:t+1,name:e.value,item:e.href}))}})({siteStructure:await a.getSiteStructure({includePageId:!0}),baseUrl:i,t:d,site:a});await l.setStructuredData([g])})({baseUrl:c.baseUrl,site:l,isCurrentPageMenusDefaultPage:u,multilingual:o.multilingual,menusDisplayOrder:f,menus:(null==e?void 0:e.data)||[],seo:d,activeMenu:g,t:n.translations.t})}catch(e){}}catch(e){const t=null==p?void 0:p.getResolvedError(e),i={menus:[],locations:{},navigateTo:a,url:c.url,fitToContentHeight:!0,initialActiveTab:0,messageError:null==t?void 0:t.message};n.controllerConfig.setProps(i)}null==(e=n.bi)||e.report({evid:11,src:159,endpoint:"",params:{hosting:Sa(n.environment),pageName:se,product:se,widgetId:Pa.id,widgetInstanceId:n.controllerConfig.compId,widgetName:"Menu",isMenusDefaultPage:u,isOoi:!0,menuId:null==(t=g)?void 0:t.id,locationId:null==(r=g)?void 0:r.businessLocationId}})}}};var Ga=function(e,t,n,i){return new(n||(n=Promise))(function(a,r){function o(e){try{u(i.next(e))}catch(e){r(e)}}function s(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})},Ba=function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};var Va=function(e){return e},Ua=function(e){var t={};for(var n in e)"function"==typeof e[n]&&(t[n]=e[n].bind(e));return t},Ha=function(e,t){for(var n={},i=function(t){var i=e[t];"function"==typeof i&&(n[t]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i.apply(e,t)})},a=0,r=t;a<r.length;a++){i(r[a])}return n},za=function(e){return e.isEnabled&&e.currentLanguage?e.currentLanguage:void 0},Wa=function(){return Wa=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Wa.apply(this,arguments)},Ka=function(e,t){return{name:e.name,message:e.message,stack:e.stack,errorId:t}},Qa=function(){return Qa=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Qa.apply(this,arguments)},Xa={language:"_language",translations:"_translations",multilingual:"_multilingual",experiments:"_experiments",biMethods:"_biMethods",openModal:"__openModal__",biUtil:"_biUtil",mobile:"_mobile",isRTL:"_isRTL",isSSR:"_isSSR",isSEO:"_isSEO",appDefinitionId:"_appDefinitionId",widgetId:"_widgetId",fedopsLogger:"_fedopsLogger",sentry:"_sentry",errorMonitor:"_errorMonitor",publicData:"_publicData",styles:"__styles",enabledHOCs:"_enabledHOCs",onAppLoaded:"_onAppLoaded",onAppLoadStarted:"_onAppLoadStarted",error:"_workerError",errorMonitorWithOptions:"__errorMonitorWithOptions",logger:"__logger",transactionWithAction:"__transactionWithAction",shouldReportAppLoadStarted:"shouldReportAppLoadStarted"},$a=function(){function e(){this.store={}}return e.prototype.init=function(){},e.prototype.getProps=function(){return this.store},e.prototype.getProp=function(e){var t=this.getPrivateKey(e);return this.store[t]},e.prototype.spreadProp=function(e){var t,n=this.getPrivateKey(e);return(t={})[n]=this.store[n],t},e.prototype.getPrivateKey=function(t){return e.PropsMap[t]},e.prototype.getFromExternalStore=function(e,t){return t[this.getPrivateKey(e)]},e.prototype.setProp=function(e,t){var n=this.getPrivateKey(e);this.store[n]=t},e.prototype.isHOCEnabled=function(e){return this.getProp("enabledHOCs")[e]},e.prototype.isFlowPropsReceived=function(){return!!this.getProp("enabledHOCs")},e.PropsMap=Xa,e}(),Za=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ya=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n},er=function(e){function t(t){var n=this,i=t.flowAPI,a=t.panoramaClient,r=Ya(t,["flowAPI","panoramaClient"]);return(n=e.call(this)||this).setPublicData=function(e){n.setProp("publicData",function(e){var t=null!=e?e:{};return t.APP||(t.APP={}),t.COMPONENT||(t.COMPONENT={}),t}(e))},n.flowAPI=i,n.panoramaClient=a,n.initControllerProps(r),n}return Za(t,e),t.prototype.initControllerProps=function(e){var t,n,i,a,r,o=e.translationsConfig,s=e.experimentsConfig,u=e.appLoadingService,l=this.flowAPI;this.setProp("translations",null!==(n=null===(t=l.translations)||void 0===t?void 0:t.all)&&void 0!==n?n:{}),this.setProp("openModal",l.openModal.bind(l)),this.setProp("multilingual",(r=l.environment.multilingual)?{currentLanguage:r.currentLanguage,isEnabled:r.isEnabled,siteLanguages:r.siteLanguages}:null),this.setProp("experiments",null!==(a=null===(i=l.experiments)||void 0===i?void 0:i.all())&&void 0!==a?a:{});var c,d,p,f=function(e){return{biMethods:e?Qa(Qa({},Ua(e)),Ha(e,["report"])):{},biUtil:e&&e.util?Ua(e.util):{}}}(l.bi),m=f.biMethods,g=f.biUtil;if(this.setProp("biMethods",m),this.setProp("biUtil",g),this.setProp("language",l.environment.language),this.setProp("isRTL",l.environment.isRTL),this.setProp("isSSR",l.environment.isSSR),this.setProp("isSEO",l.environment.isSEO),this.setProp("mobile",l.environment.isMobile),this.setProp("appDefinitionId",l.environment.appDefinitionId),this.setProp("widgetId",l.environment.widgetId),this.setProp("fedopsLogger",null!=l.fedops?(c=l.fedops,Ha(c,["interactionEnded","interactionStarted"])):null),l.panoramaClient){var h=function(e){var t=e.logger();return{errorMonitorWithOptions:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var r=e.errorMonitor(Wa(Wa({},t),{data:Wa({environment:"Viewer"},null==t?void 0:t.data)}));r[n].apply(r,i)},logger:{debug:t.debug.bind(t),info:t.info.bind(t),error:t.error.bind(t),warn:t.warn.bind(t)},transactionWithAction:function(t,n,i){return e.transaction(t)[n](i)}}}(l.panoramaClient),v=h.transactionWithAction,b=h.errorMonitorWithOptions,y=h.logger;this.setProp("transactionWithAction",v),this.setProp("errorMonitorWithOptions",b),this.setProp("logger",y)}this.setProp("sentry",null!=l.sentry?(d=l.sentry,{captureException:function(e){d.captureException(e)},captureMessage:function(e){d.captureMessage(e)}}):null),this.setProp("errorMonitor",null!=l.errorMonitor?(p=l.errorMonitor,{captureException:function(e,t){return p.captureException(e,t)},captureMessage:function(e,t){return p.captureMessage(e,t)},addBreadcrumb:function(e){p.addBreadcrumb(e)}}):null),this.setPublicData(l.controllerConfig.config.publicData),this.setProp("enabledHOCs",{translations:!1!==(null==o?void 0:o.enabled),experiments:!!s,bi:!!l.bi,sentry:!!l.sentry,errorMonitor:!!l.errorMonitor,fedops:!!l.fedops,panoramaClient:!!l.panoramaClient}),this.setProp("onAppLoaded",u.onAppLoaded),l.environment.isSSR||(this.setProp("onAppLoadStarted",u.onAppLoadStarted),this.setProp("shouldReportAppLoadStarted",!0)),this.setProp("error",null)},t.prototype.setErrorProp=function(e,t){this.setProp("error",e?Ka(e,t):null)},t.prototype.passWidgetProp=function(e){this.flowAPI.controllerConfig.setProps(this.spreadProp(e))},t.prototype.passWidgetErrorProp=function(e,t){this.setErrorProp(e,t),this.flowAPI.controllerConfig.setProps(this.spreadProp("error"))},t.prototype.passWidgetInitialProps=function(){this.flowAPI.controllerConfig.setProps(this.getProps())},t}($a),tr=function(e){var t=e.flowAPI,n=e.panoramaClient,i=this;this.isCSRLoadStartReported=!1,this.isCSRLoadFinishReported=!1,this.onAppLoaded=function(){var e,t;i.isCSRLoadFinishReported||(null===(e=i.flowAPI.fedops)||void 0===e||e.appLoaded(),null===(t=i.panoramaClient)||void 0===t||t.reportLoadFinish(),i.isCSRLoadFinishReported=!0)},this.onAppLoadStarted=function(){var e;i.isCSRLoadStartReported||(null===(e=i.panoramaClient)||void 0===e||e.reportLoadStart(),i.isCSRLoadStartReported=!0),i.isCSRLoadFinishReported||i.flowAPI.appLoadStarted()},this.flowAPI=t,this.panoramaClient=n},nr=function(){return nr=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},nr.apply(this,arguments)},ir=function(e,t,n,i){return new(n||(n=Promise))(function(a,r){function o(e){try{u(i.next(e))}catch(e){r(e)}}function s(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})},ar=function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},rr=function(e){return!!(null==e?void 0:e._error)},or=function(e,t,n,i,a){var r,o,s;if(!t.environment.isEditor){if(console.error('\u2757\ufe0fError \u{1f449} "'.concat(n,'" app \u{1f449} ').concat(i," controller \u{1f449} ").concat(a?"".concat(a," method"):""," \u2757\n"),e),t.sentry)return null===(r=t.sentry)||void 0===r||r.captureException(e),null===(s=null===(o=t.sentry)||void 0===o?void 0:o.lastEventId)||void 0===s?void 0:s.call(o);if(t.errorMonitor)return t.errorMonitor.captureException(e)}},sr=function(e,t,n,i){return ir(void 0,void 0,void 0,function(){var a,r;return ar(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e()];case 1:return[2,o.sent()];case 2:return a=o.sent(),r=or(a,t,n,i,"pageReady"),[2,{_error:a,_errorId:r}];case 3:return[2]}})})},ur=function(e,t){return e.localeCompare(t)},lr=function(e,t){var n=t.isMobile,i=t.language,a=void 0===i?"en":i;return"function"==typeof e.dangerousKeyTransformationOverride?e.dangerousKeyTransformationOverride(e.key,{isMobile:n,language:a}):function(e,t,n){if("string"!=typeof e)throw new Error("`generateKey` expects key to be passed and be a string");if(!t)throw new Error("`generateKey` expects options to be passed");return Object.keys(n).sort(ur).reduce(function(e,i){var a=n[i]===t[i],r=!t[i]&&!n[i];return a||r?e:e+"\u25b6\ufe0e"+("boolean"!=typeof t[i]||n[i]?i+":"+t[i]:i)},e)}(e.key,{m:n,l:a},{m:!1,l:"en"})},cr=new function(){var e,t=this;this.handlers=((e={})[Ca.Object]={serialize:function(e){return"string"==typeof e?(console.error("\u26a0\ufe0f Seems like you are calling `settings.set(param, JSON.stringify(value))`. Please, pass a plain object/array and tpa-settings will serializate it."),e):JSON.stringify(e)},deserialize:function(e){return"string"!=typeof e?e:JSON.parse(e)}},e),this.serialize=function(e,n){return e.type===Ca.Object?t.handlers[Ca.Object].serialize(n):n},this.deserialize=function(e,n){return e.type===Ca.Object?t.handlers[Ca.Object].deserialize(n):n}};function dr(e,t,n){void 0===n&&(n={});var i,a=function(e){return e.type===Ca.Text}(t),r=function(e,t){return{languageAndMobile:lr(e,{isMobile:t.isMobile,language:t.language}),language:lr(e,{isMobile:!1,language:t.language}),mobile:lr(e,{isMobile:t.isMobile}),original:e.key}}(t,{isMobile:n.isMobile,language:a?n.language:void 0}),o=function(e){return void 0===e.inheritDesktop||e.inheritDesktop}(t);return a?void 0!==e[r.languageAndMobile]?i=e[r.languageAndMobile]:o&&void 0!==e[r.language]&&(i=e[r.language]):void 0!==e[r.mobile]?i=e[r.mobile]:o&&void 0!==e[r.original]&&(i=e[r.original]),cr.deserialize(t,i)}var pr=!1;function fr(e,t,n,i){void 0===n&&(n={});var a=ka(n,[]);void 0===i&&(i="COMPONENT");var r=e;e.COMPONENT||(pr||(console.warn("`getSettingsValue` or `getSettingsValues` should accept whole public data object. Probably, data was passed only for one scope."),pr=!0),r={COMPONENT:e,APP:{}});var o="COMPONENT"===i&&t.inheritFromAppScope,s=dr(r[i],t,a);return void 0===s&&o&&(s=dr(r.APP,t,a)),t.getDefaultValue&&void 0===s?function(e,t,n,i){var a,r;void 0===i&&(i={});var o=null!==(a=i.t)&&void 0!==a?a:function(e){var t=e.environmentLabel;return function(e){throw new Error("It is not possible to translate ".concat(e,". Translate function was not passed to the ").concat(t))}}({environmentLabel:null!==(r=i.environmentLabel)&&void 0!==r?r:"`getSettingsValue` function"});return n.getDefaultValue({isMobile:i.isMobile,isRTL:i.isRTL,isEditorX:i.isEditorX,t:o,presetId:i.presetId,experiments:i.experiments,getSettingParamValue:function(n,a){return void 0===a&&(a={}),fr(e,n,xa(xa(xa({},i),a),{t:o}),t)}})}(r,i,t,a):s}var mr=["ar","arc","bcc","bqi","ckb","dv","fa","glk","ha","he","khw","ks","ku","mzn","pnb","ps","sd","ug","ur","yi"],gr=function(e){return void 0===e&&"undefined"!=typeof window&&(e=window.location.search),new URLSearchParams(e)},hr=function(e){return"backend"===e.rendering.env},vr=function(e){return e.isInSEO()},br=function(e){var t;this.entry="viewerScript";var n,i=e.seoAPI,a=e.windowAPI,r=e.siteAPI,o=e.appData;this.isSSR="backend"===a.rendering.env,this.isSEO=vr(i),this.isMobile="Mobile"===a.formFactor,this.isEditor="Editor"===a.viewMode,this.isPreview="Preview"===a.viewMode,this.isViewer="Site"===a.viewMode,this.isBlocksPreview=Boolean(null===(t=null==o?void 0:o.appData)||void 0===t?void 0:t.blocksPreviewData),this.language=function(e,t,n){var i=za(e.multilingual),a=t.language;if(n){var r=gr().get("regionalLanguage");r&&(a=r)}return i||a||"en"}(a,r,this.isEditor),this.isRTL=(n=this.language,mr.includes(function(e){return e&&e.split("-")[0]}(n))),this.multilingual=a.multilingual,this.appDefinitionId=o.appDefinitionId},yr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ar=function(e){function t(t){var n,i=this;(i=e.call(this,t)||this).entry="viewerScript";var a,r=t.config,o=t.widgetId,s=t.locationAPI.query;return i.isEditorX=function(e){var t;return null!==(t=null==e?void 0:e.booleans.responsive)&&void 0!==t&&t}(null===(n=null==r?void 0:r.style)||void 0===n?void 0:n.styleParams),i.isADI=(void 0===(a=s)&&(a={}),"onboarding"===a.dsOrigin),i.isClassicEditor=function(e){return void 0===e&&(e={}),"Editor1.4"===e.dsOrigin}(s),i.widgetId=o,i}return yr(t,e),t}(br);var Ir=function(){function e(e){var t=e.httpClient;this.reportError=function(e){console.warn("You are trying to report an error, but didn't configure sentry in `.application.json`\n\nPlease read the docs for more information https://bo.wix.com/pages/yoshi/docs/editor-flow/structure-api/app-configuration/#applicationjson","Error: ",e)},this._httpClient=t}return Object.defineProperty(e.prototype,"httpClient",{get:function(){var e=this._httpClient;return e},enumerable:!1,configurable:!0}),e}(),Er=function(e,t,n,i){return new(n||(n=Promise))(function(a,r){function o(e){try{u(i.next(e))}catch(e){r(e)}}function s(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})},Rr=function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};function wr(e,t){return Er(this,void 0,void 0,function(){return Rr(this,function(n){switch(n.label){case 0:return[4,this.controllerConfig.platformAPIs.platformApiProvider.getPlatformApi("window")];case 1:return n.sent().openModal("".concat((i=this.componentName||"",a=e,r=this.controllerConfig.appParams.instance,o="".concat(i,"/").concat(a),"https://editor.wixapps.net/render/prod/modals/".concat("restaurant-menus-showcase-ooi","/").concat("bbba7aed7bfb385a878922bd49c6b2f2b3eae496b24fe27e622ebe4c","/").concat(o,"?instance=").concat(r))),t),[2]}var i,a,r,o})})}var _r,Sr,Pr,xr,kr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Or=function(){return Or=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Or.apply(this,arguments)},Cr=function(e,t,n,i){return new(n||(n=Promise))(function(a,r){function o(e){try{u(i.next(e))}catch(e){r(e)}}function s(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})},Mr=function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},Lr=function(e,t,n){if(n||2===arguments.length)for(var i,a=0,r=t.length;a<r;a++)!i&&a in t||(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))},Nr=function(e){function t(t){var n,i,a,r,o,s,u,l=t.viewerScriptFlowAPI,c=t.controllerConfig,d=t.appDefinitionId,p=t.widgetId,f=t.componentId,m=t.componentName,g=t.biLogger,h=t.prepopulatedData,v=t.translations,b=t.fedopsConfig,y=t.sentryConfig,A=t.shouldUseEssentials,I=t.multilingualDisabled,E=t.panoramaClient,R=t.locationAPI,w=t.windowAPI,_=t.siteAPI,S=t.seoAPI,P=this;(P=e.call(this,{httpClient:c.essentials.httpClient})||this).appLoadStarted=function(){if(null!==P.fedops){var e=P.fedops.appLoadStarted;e.call(P.fedops),P.fedops.appLoadStarted=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];console.warn("\u{1f97a} Seems like you're trying to call `fedopsLogger.appLoadStarted` and `fedopsLogger.appLoaded` in your controller.\nWe are already logging load events for SSR and CSR environments, so you can remove these calls from your project."),e.call.apply(e,Lr([P.fedops],t,!1))}}},P.essentials=c.essentials,P.controllerConfig=c,P.errorHandler=null!==(n=P.essentials.errorHandler)&&void 0!==n?n:l.errorHandler,P.experiments=l.experiments,P.bi=l.bi,P.prepopulatedData=h,P.componentName=m;var x=c.platformAPIs;if(P.panoramaClient=E.createClientForComponent(),P.getCurrencyFormatter=l.getCurrencyFormatter,P.formatCurrency=null===(i=P.getCurrencyFormatter)||void 0===i?void 0:i.call(P),P.formatAddress=l.formatAddress,P.environment=new Ar({locationAPI:R,windowAPI:w,siteAPI:_,seoAPI:S,appData:c.appParams,config:c.config,widgetId:p}),!l.bi&&g)if(A){var k=P.essentials.biLoggerFactory();P.bi=g(k)({})}else(null===(a=c.platformAPIs)||void 0===a?void 0:a.biLoggerFactory)&&(P.bi=g(null===(r=c.platformAPIs)||void 0===r?void 0:r.biLoggerFactory())({}));if(P.sentry=null,P.errorMonitor=null,(null==h?void 0:h.sentryMonitor)||(null==h?void 0:h.errorMonitor))P.sentry=null!==(o=null==h?void 0:h.sentryMonitor)&&void 0!==o?o:null,P.errorMonitor=null!==(s=null==h?void 0:h.errorMonitor)&&void 0!==s?s:null;else if(y)if(y.errorMonitor&&P.essentials.createErrorMonitor)P.errorMonitor=P.essentials.createErrorMonitor({dsn:y.DSN,environment:"Viewer:Worker",appName:"restaurant-menus-showcase-ooi",version:"bbba7aed7bfb385a878922bd49c6b2f2b3eae496b24fe27e622ebe4c",fullArtifactId:"com.wixpress.restaurant-menus-showcase-ooi",componentId:f,tags:{componentId:f,componentName:m,isSSR:hr(w),isSEO:vr(S)}});else{var O=function(e){var t=e.dsn,n=e.environment,i=e.release,a=e.withDataCallback,r=e.tags;return{dsn:t,config:{enabled:!0,release:i,dataCallback:a?Va:void 0,environment:n,tags:r}}}({dsn:y.DSN,environment:"Viewer:Worker",release:"".concat("restaurant-menus-showcase-ooi","@").concat("bbba7aed7bfb385a878922bd49c6b2f2b3eae496b24fe27e622ebe4c"),withDataCallback:!0,tags:{componentId:f,componentName:m,isSSR:hr(w),isSEO:vr(S)}});P.sentry=null===(u=x.monitoring)||void 0===u?void 0:u.createMonitor(O.dsn,function(e){return Or(Or({},e),O.config)})}return P.sentry&&(P.reportError=function(e){return"string"==typeof e?P.sentry.captureMessage(e):P.sentry.captureException(e),P.sentry.lastEventId()}),P.errorMonitor&&(P.reportError=function(e){return"string"==typeof e?P.errorMonitor.captureMessage(e):P.errorMonitor.captureException(e)}),P.fedops=null,!1!==(null==b?void 0:b.enabled)&&((null==h?void 0:h.fedopsLogger)?P.fedops=null==h?void 0:h.fedopsLogger:P.fedops=A?P.essentials.fedopsLogger:x.fedOpsLoggerFactory.getLoggerForWidget({appId:d,widgetId:p,paramsOverrides:{corrId:P.controllerConfig.compId}}),P.environment.isSSR&&P.appLoadStarted(),P.fedops.interactionStarted("controller-load")),P.environment.isSSR&&(null==E||E.reportLoadStart()),P.translations=v,P.viewerScriptFlowAPI=l,P.settings={get:function(e){var t,n,i;return fr(null!==(n=null===(t=P.controllerConfig.config)||void 0===t?void 0:t.publicData)&&void 0!==n?n:{},e,{t:null===(i=P.translations)||void 0===i?void 0:i.t,experiments:P.experiments,isMobile:P.environment.isMobile,language:I?void 0:za(P.environment.multilingual)})}},P.openModal=wr,P}return kr(t,e),t.prototype.init=function(){var e,t;return Cr(this,void 0,void 0,function(){return Mr(this,function(n){switch(n.label){case 0:return null!==(null===(e=this.translations)||void 0===e?void 0:e.i18n)?[3,2]:[4,this.translations.init({prepopulated:null===(t=this.prepopulatedData)||void 0===t?void 0:t.translations,useSuspense:this.environment.isEditor||this.environment.isADI})];case 1:n.sent(),n.label=2;case 2:return null!==this.fedops&&this.fedops.interactionEnded("controller-load"),[2]}})})},t.prototype.updateControllerConfig=function(e){this.controllerConfig.config=e},t.prototype.handleError=function(e){var t;this.sentry&&(this.reportError(e),t=this.sentry.lastEventId()),this.errorMonitor&&(t=this.reportError(e)),this.controllerConfig.setProps({_workerError:Ka(e,t)})},t.prototype.withErrorBoundary=function(e){var t=this;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{e.apply(void 0,n)}catch(e){e instanceof Error&&t.handleError(e)}}},t}(Ir),Dr=function(e){return function(t){var n;return e.controllerConfig.config.publicData=t,(n={})[$a.PropsMap.publicData]=t,n}},Tr=function(){return Tr=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Tr.apply(this,arguments)},qr=function(e){return function(t){var n,i,a;return e.controllerConfig.config.style.styleParams=(void 0===(i=e.controllerConfig.config.style.styleParams)&&(i={}),void 0===(a=t)&&(a={}),Tr(Tr({},i),{colors:Tr(Tr({},i.colors),a.colors),booleans:Tr(Tr({},i.booleans),a.booleans),fonts:Tr(Tr({},i.fonts),a.fonts),numbers:Tr(Tr({},i.numbers),a.numbers)})),(n={})[$a.PropsMap.styles]=e.controllerConfig.config.style.styleParams,n}},Fr=function(e,t,n,i){return new(n||(n=Promise))(function(a,r){function o(e){try{u(i.next(e))}catch(e){r(e)}}function s(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})},jr=function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};!function(e){e.SuccessRate="SuccessRate",e.SuccessRateQuality="SuccessRateQuality",e.Duration="Duration",e.ErrorRate="ErrorRate"}(_r||(_r={})),function(e){e.Alerting="alerting",e.Ok="ok"}(Sr||(Sr={})),function(e){e.Info="INFO",e.Warn="WARN",e.Error="ERROR",e.Debug="DEBUG"}(Pr||(Pr={})),function(e){e.Start="START",e.Finish="FINISH"}(xr||(xr={}));var Jr,Gr;!function(e){e.Standalone="standalone",e.BusinessManager="business-manager",e.Viewer="viewer",e.Editor="editor",e.EditorSettings="editor:settings",e.Mobile="mobile",e.Standards="standards"}(Jr||(Jr={})),function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(Gr||(Gr={}));var Br,Vr=function(e,t,n,i){return new(n||(n=Promise))(function(a,r){function o(e){try{u(i.next(e))}catch(e){r(e)}}function s(e){try{u(i.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})},Ur=function(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};function Hr(e){return e.type===Br.literal}function zr(e){return e.type===Br.argument}function Wr(e){return e.type===Br.number}function Kr(e){return e.type===Br.date}function Qr(e){return e.type===Br.time}function Xr(e){return e.type===Br.select}function $r(e){return e.type===Br.plural}function Zr(e){return e.type===Br.pound}function Yr(e){return!(!e||"object"!=typeof e||0!==e.type)}function eo(e){return!(!e||"object"!=typeof e||1!==e.type)}!function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound"}(Br||(Br={}));var to=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),no=function(){return no=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},no.apply(this,arguments)},io=function(e){function t(n,i,a,r){var o=e.call(this)||this;return o.message=n,o.expected=i,o.found=a,o.location=r,o.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return to(t,e),t.buildMessage=function(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function a(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function r(e){switch(e.type){case"literal":return'"'+i(e.text)+'"';case"class":var t=e.parts.map(function(e){return Array.isArray(e)?a(e[0])+"-"+a(e[1]):a(e)});return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,n,i=e.map(r);if(i.sort(),i.length>0){for(t=1,n=1;t<i.length;t++)i[t-1]!==i[t]&&(i[n]=i[t],n++);i.length=n}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+(((o=t)?'"'+i(o)+'"':"end of input")+" found.");var o},t}(Error);var ao=function(e,t){t=void 0!==t?t:{};var n,i={},a={start:st},r=st,o=function(e){return e.join("")},s=function(e){return no({type:Br.literal,value:e},Ot())},u="#",l=et("#",!1),c=function(){return no({type:Br.pound},Ot())},d=nt("argumentElement"),p="{",f=et("{",!1),m="}",g=et("}",!1),h=function(e){return no({type:Br.argument,value:e},Ot())},v=nt("numberSkeletonId"),b=/^['\/{}]/,y=tt(["'","/","{","}"],!1,!1),A={type:"any"},I=nt("numberSkeletonTokenOption"),E="/",R=et("/",!1),w=function(e){return e},_=nt("numberSkeletonToken"),S=function(e,t){return{stem:e,options:t}},P=function(e){return no({type:0,tokens:e},Ot())},x="::",k=et("::",!1),O=function(e){return e},C=function(){return xt.push("numberArgStyle"),!0},M=function(e){return xt.pop(),e.replace(/\s*$/,"")},L=",",N=et(",",!1),D="number",T=et("number",!1),q=function(e,t,n){return no({type:"number"===t?Br.number:"date"===t?Br.date:Br.time,style:n&&n[2],value:e},Ot())},F="'",j=et("'",!1),J=/^[^']/,G=tt(["'"],!0,!1),B=/^[^a-zA-Z'{}]/,V=tt([["a","z"],["A","Z"],"'","{","}"],!0,!1),U=/^[a-zA-Z]/,H=tt([["a","z"],["A","Z"]],!1,!1),z=function(e){return no({type:1,pattern:e},Ot())},W=function(){return xt.push("dateOrTimeArgStyle"),!0},K="date",Q=et("date",!1),X="time",$=et("time",!1),Z="plural",Y=et("plural",!1),ee="selectordinal",te=et("selectordinal",!1),ne="offset:",ie=et("offset:",!1),ae=function(e,t,n,i){return no({type:Br.plural,pluralType:"plural"===t?"cardinal":"ordinal",value:e,offset:n?n[2]:0,options:i.reduce(function(e,t){var n=t.id,i=t.value,a=t.location;return n in e&&Ye('Duplicate option "'+n+'" in plural element: "'+$e()+'"',Ze()),e[n]={value:i,location:a},e},{})},Ot())},re="select",oe=et("select",!1),se=function(e,t){return no({type:Br.select,value:e,options:t.reduce(function(e,t){var n=t.id,i=t.value,a=t.location;return n in e&&Ye('Duplicate option "'+n+'" in select element: "'+$e()+'"',Ze()),e[n]={value:i,location:a},e},{})},Ot())},ue="=",le=et("=",!1),ce=function(e){return xt.push("select"),!0},de=function(e,t){return xt.pop(),no({id:e,value:t},Ot())},pe=function(e){return xt.push("plural"),!0},fe=function(e,t){return xt.pop(),no({id:e,value:t},Ot())},me=nt("whitespace"),ge=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,he=tt([["\t","\r"]," ","\x85","\xa0","\u1680",["\u2000","\u200a"],"\u2028","\u2029","\u202f","\u205f","\u3000"],!1,!1),ve=nt("syntax pattern"),be=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,ye=tt([["!","/"],[":","@"],["[","^"],"`",["{","~"],["\xa1","\xa7"],"\xa9","\xab","\xac","\xae","\xb0","\xb1","\xb6","\xbb","\xbf","\xd7","\xf7",["\u2010","\u2027"],["\u2030","\u203e"],["\u2041","\u2053"],["\u2055","\u205e"],["\u2190","\u245f"],["\u2500","\u2775"],["\u2794","\u2bff"],["\u2e00","\u2e7f"],["\u3001","\u3003"],["\u3008","\u3020"],"\u3030","\ufd3e","\ufd3f","\ufe45","\ufe46"],!1,!1),Ae=nt("optional whitespace"),Ie=nt("number"),Ee="-",Re=et("-",!1),we=function(e,t){return t?e?-t:t:0},_e=(nt("apostrophe"),nt("double apostrophes")),Se="''",Pe=et("''",!1),xe=function(){return"'"},ke=function(e,t){return e+t.replace("''","'")},Oe=function(e){return!("{"===e||kt()&&"#"===e||xt.length>1&&"}"===e)},Ce="\n",Me=et("\n",!1),Le=function(e){return"{"===e||"}"===e||kt()&&"#"===e},Ne=nt("argNameOrNumber"),De=nt("argNumber"),Te="0",qe=et("0",!1),Fe=function(){return 0},je=/^[1-9]/,Je=tt([["1","9"]],!1,!1),Ge=/^[0-9]/,Be=tt([["0","9"]],!1,!1),Ve=function(e){return parseInt(e.join(""),10)},Ue=nt("argName"),He=0,ze=0,We=[{line:1,column:1}],Ke=0,Qe=[],Xe=0;if(void 0!==t.startRule){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');r=a[t.startRule]}function $e(){return e.substring(ze,He)}function Ze(){return at(ze,He)}function Ye(e,t){throw function(e,t){return new io(e,[],"",t)}(e,t=void 0!==t?t:at(ze,He))}function et(e,t){return{type:"literal",text:e,ignoreCase:t}}function tt(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function nt(e){return{type:"other",description:e}}function it(t){var n,i=We[t];if(i)return i;for(n=t-1;!We[n];)n--;for(i={line:(i=We[n]).line,column:i.column};n<t;)10===e.charCodeAt(n)?(i.line++,i.column=1):i.column++,n++;return We[t]=i,i}function at(e,t){var n=it(e),i=it(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:i.line,column:i.column}}}function rt(e){He<Ke||(He>Ke&&(Ke=He,Qe=[]),Qe.push(e))}function ot(e,t,n){return new io(io.buildMessage(e,t),e,t,n)}function st(){return ut()}function ut(){var e,t;for(e=[],t=lt();t!==i;)e.push(t),t=lt();return e}function lt(){var t;return(t=function(){var e,t;e=He,(t=ct())!==i&&(ze=e,t=s(t));return e=t,e}())===i&&(t=function(){var t,n,a,r;Xe++,t=He,123===e.charCodeAt(He)?(n=p,He++):(n=i,0===Xe&&rt(f));n!==i&&At()!==i&&(a=_t())!==i&&At()!==i?(125===e.charCodeAt(He)?(r=m,He++):(r=i,0===Xe&&rt(g)),r!==i?(ze=t,t=n=h(a)):(He=t,t=i)):(He=t,t=i);Xe--,t===i&&(n=i,0===Xe&&rt(d));return t}())===i&&(t=function(){var t;t=function(){var t,n,a,r,o,s,u,l,c;t=He,123===e.charCodeAt(He)?(n=p,He++):(n=i,0===Xe&&rt(f));n!==i&&At()!==i&&(a=_t())!==i&&At()!==i?(44===e.charCodeAt(He)?(r=L,He++):(r=i,0===Xe&&rt(N)),r!==i&&At()!==i?(e.substr(He,6)===D?(o=D,He+=6):(o=i,0===Xe&&rt(T)),o!==i&&At()!==i?(s=He,44===e.charCodeAt(He)?(u=L,He++):(u=i,0===Xe&&rt(N)),u!==i&&(l=At())!==i?(c=function(){var t,n,a;t=He,e.substr(He,2)===x?(n=x,He+=2):(n=i,0===Xe&&rt(k));n!==i?(a=function(){var e,t,n;if(e=He,t=[],n=ft(),n!==i)for(;n!==i;)t.push(n),n=ft();else t=i;t!==i&&(ze=e,t=P(t));return e=t,e}(),a!==i?(ze=t,t=n=O(a)):(He=t,t=i)):(He=t,t=i);t===i&&(t=He,ze=He,(n=(n=C())?void 0:i)!==i&&(a=ct())!==i?(ze=t,t=n=M(a)):(He=t,t=i));return t}(),c!==i?s=u=[u,l,c]:(He=s,s=i)):(He=s,s=i),s===i&&(s=null),s!==i&&(u=At())!==i?(125===e.charCodeAt(He)?(l=m,He++):(l=i,0===Xe&&rt(g)),l!==i?(ze=t,t=n=q(a,o,s)):(He=t,t=i)):(He=t,t=i)):(He=t,t=i)):(He=t,t=i)):(He=t,t=i);return t}(),t===i&&(t=function(){var t,n,a,r,o,s,u,l,c;t=He,123===e.charCodeAt(He)?(n=p,He++):(n=i,0===Xe&&rt(f));n!==i&&At()!==i&&(a=_t())!==i&&At()!==i?(44===e.charCodeAt(He)?(r=L,He++):(r=i,0===Xe&&rt(N)),r!==i&&At()!==i?(e.substr(He,4)===K?(o=K,He+=4):(o=i,0===Xe&&rt(Q)),o===i&&(e.substr(He,4)===X?(o=X,He+=4):(o=i,0===Xe&&rt($))),o!==i&&At()!==i?(s=He,44===e.charCodeAt(He)?(u=L,He++):(u=i,0===Xe&&rt(N)),u!==i&&(l=At())!==i?(c=function(){var t,n,a;t=He,e.substr(He,2)===x?(n=x,He+=2):(n=i,0===Xe&&rt(k));n!==i?(a=function(){var t,n,a,r;t=He,n=He,a=[],r=mt(),r===i&&(r=gt());if(r!==i)for(;r!==i;)a.push(r),(r=mt())===i&&(r=gt());else a=i;n=a!==i?e.substring(n,He):a;n!==i&&(ze=t,n=z(n));return t=n,t}(),a!==i?(ze=t,t=n=O(a)):(He=t,t=i)):(He=t,t=i);t===i&&(t=He,ze=He,(n=(n=W())?void 0:i)!==i&&(a=ct())!==i?(ze=t,t=n=M(a)):(He=t,t=i));return t}(),c!==i?s=u=[u,l,c]:(He=s,s=i)):(He=s,s=i),s===i&&(s=null),s!==i&&(u=At())!==i?(125===e.charCodeAt(He)?(l=m,He++):(l=i,0===Xe&&rt(g)),l!==i?(ze=t,t=n=q(a,o,s)):(He=t,t=i)):(He=t,t=i)):(He=t,t=i)):(He=t,t=i)):(He=t,t=i);return t}());return t}())===i&&(t=function(){var t,n,a,r,o,s,u,l,c,d,h;t=He,123===e.charCodeAt(He)?(n=p,He++):(n=i,0===Xe&&rt(f));if(n!==i)if(At()!==i)if((a=_t())!==i)if(At()!==i)if(44===e.charCodeAt(He)?(r=L,He++):(r=i,0===Xe&&rt(N)),r!==i)if(At()!==i)if(e.substr(He,6)===Z?(o=Z,He+=6):(o=i,0===Xe&&rt(Y)),o===i&&(e.substr(He,13)===ee?(o=ee,He+=13):(o=i,0===Xe&&rt(te))),o!==i)if(At()!==i)if(44===e.charCodeAt(He)?(s=L,He++):(s=i,0===Xe&&rt(N)),s!==i)if(At()!==i)if(u=He,e.substr(He,7)===ne?(l=ne,He+=7):(l=i,0===Xe&&rt(ie)),l!==i&&(c=At())!==i&&(d=It())!==i?u=l=[l,c,d]:(He=u,u=i),u===i&&(u=null),u!==i)if((l=At())!==i){if(c=[],(d=vt())!==i)for(;d!==i;)c.push(d),d=vt();else c=i;c!==i&&(d=At())!==i?(125===e.charCodeAt(He)?(h=m,He++):(h=i,0===Xe&&rt(g)),h!==i?(ze=t,t=n=ae(a,o,u,c)):(He=t,t=i)):(He=t,t=i)}else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;return t}())===i&&(t=function(){var t,n,a,r,o,s,u,l,c;t=He,123===e.charCodeAt(He)?(n=p,He++):(n=i,0===Xe&&rt(f));if(n!==i)if(At()!==i)if((a=_t())!==i)if(At()!==i)if(44===e.charCodeAt(He)?(r=L,He++):(r=i,0===Xe&&rt(N)),r!==i)if(At()!==i)if(e.substr(He,6)===re?(o=re,He+=6):(o=i,0===Xe&&rt(oe)),o!==i)if(At()!==i)if(44===e.charCodeAt(He)?(s=L,He++):(s=i,0===Xe&&rt(N)),s!==i)if(At()!==i){if(u=[],(l=ht())!==i)for(;l!==i;)u.push(l),l=ht();else u=i;u!==i&&(l=At())!==i?(125===e.charCodeAt(He)?(c=m,He++):(c=i,0===Xe&&rt(g)),c!==i?(ze=t,t=n=se(a,u)):(He=t,t=i)):(He=t,t=i)}else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;else He=t,t=i;return t}())===i&&(t=function(){var t,n;t=He,35===e.charCodeAt(He)?(n=u,He++):(n=i,0===Xe&&rt(l));n!==i&&(ze=t,n=c());return t=n,t}()),t}function ct(){var e,t,n;if(e=He,t=[],(n=Et())===i&&(n=Rt())===i&&(n=wt()),n!==i)for(;n!==i;)t.push(n),(n=Et())===i&&(n=Rt())===i&&(n=wt());else t=i;return t!==i&&(ze=e,t=o(t)),e=t}function dt(){var t,n,a,r,o;if(Xe++,t=He,n=[],a=He,r=He,Xe++,(o=bt())===i&&(b.test(e.charAt(He))?(o=e.charAt(He),He++):(o=i,0===Xe&&rt(y))),Xe--,o===i?r=void 0:(He=r,r=i),r!==i?(e.length>He?(o=e.charAt(He),He++):(o=i,0===Xe&&rt(A)),o!==i?a=r=[r,o]:(He=a,a=i)):(He=a,a=i),a!==i)for(;a!==i;)n.push(a),a=He,r=He,Xe++,(o=bt())===i&&(b.test(e.charAt(He))?(o=e.charAt(He),He++):(o=i,0===Xe&&rt(y))),Xe--,o===i?r=void 0:(He=r,r=i),r!==i?(e.length>He?(o=e.charAt(He),He++):(o=i,0===Xe&&rt(A)),o!==i?a=r=[r,o]:(He=a,a=i)):(He=a,a=i);else n=i;return t=n!==i?e.substring(t,He):n,Xe--,t===i&&(n=i,0===Xe&&rt(v)),t}function pt(){var t,n,a;return Xe++,t=He,47===e.charCodeAt(He)?(n=E,He++):(n=i,0===Xe&&rt(R)),n!==i&&(a=dt())!==i?(ze=t,t=n=w(a)):(He=t,t=i),Xe--,t===i&&(n=i,0===Xe&&rt(I)),t}function ft(){var e,t,n,a;if(Xe++,e=He,At()!==i)if((t=dt())!==i){for(n=[],a=pt();a!==i;)n.push(a),a=pt();n!==i?(ze=e,e=S(t,n)):(He=e,e=i)}else He=e,e=i;else He=e,e=i;return Xe--,e===i&&(0===Xe&&rt(_)),e}function mt(){var t,n,a,r;if(t=He,39===e.charCodeAt(He)?(n=F,He++):(n=i,0===Xe&&rt(j)),n!==i){if(a=[],(r=Et())===i&&(J.test(e.charAt(He))?(r=e.charAt(He),He++):(r=i,0===Xe&&rt(G))),r!==i)for(;r!==i;)a.push(r),(r=Et())===i&&(J.test(e.charAt(He))?(r=e.charAt(He),He++):(r=i,0===Xe&&rt(G)));else a=i;a!==i?(39===e.charCodeAt(He)?(r=F,He++):(r=i,0===Xe&&rt(j)),r!==i?t=n=[n,a,r]:(He=t,t=i)):(He=t,t=i)}else He=t,t=i;if(t===i)if(t=[],(n=Et())===i&&(B.test(e.charAt(He))?(n=e.charAt(He),He++):(n=i,0===Xe&&rt(V))),n!==i)for(;n!==i;)t.push(n),(n=Et())===i&&(B.test(e.charAt(He))?(n=e.charAt(He),He++):(n=i,0===Xe&&rt(V)));else t=i;return t}function gt(){var t,n;if(t=[],U.test(e.charAt(He))?(n=e.charAt(He),He++):(n=i,0===Xe&&rt(H)),n!==i)for(;n!==i;)t.push(n),U.test(e.charAt(He))?(n=e.charAt(He),He++):(n=i,0===Xe&&rt(H));else t=i;return t}function ht(){var t,n,a,r,o;return t=He,At()!==i&&(n=Pt())!==i&&At()!==i?(123===e.charCodeAt(He)?(a=p,He++):(a=i,0===Xe&&rt(f)),a!==i?(ze=He,(ce(n)?void 0:i)!==i&&(r=ut())!==i?(125===e.charCodeAt(He)?(o=m,He++):(o=i,0===Xe&&rt(g)),o!==i?(ze=t,t=de(n,r)):(He=t,t=i)):(He=t,t=i)):(He=t,t=i)):(He=t,t=i),t}function vt(){var t,n,a,r,o;return t=He,At()!==i?(n=function(){var t,n,a,r;return t=He,n=He,61===e.charCodeAt(He)?(a=ue,He++):(a=i,0===Xe&&rt(le)),a!==i&&(r=It())!==i?n=a=[a,r]:(He=n,n=i),(t=n!==i?e.substring(t,He):n)===i&&(t=Pt()),t}(),n!==i&&At()!==i?(123===e.charCodeAt(He)?(a=p,He++):(a=i,0===Xe&&rt(f)),a!==i?(ze=He,(pe(n)?void 0:i)!==i&&(r=ut())!==i?(125===e.charCodeAt(He)?(o=m,He++):(o=i,0===Xe&&rt(g)),o!==i?(ze=t,t=fe(n,r)):(He=t,t=i)):(He=t,t=i)):(He=t,t=i)):(He=t,t=i)):(He=t,t=i),t}function bt(){var t;return Xe++,ge.test(e.charAt(He))?(t=e.charAt(He),He++):(t=i,0===Xe&&rt(he)),Xe--,t===i&&(0===Xe&&rt(me)),t}function yt(){var t;return Xe++,be.test(e.charAt(He))?(t=e.charAt(He),He++):(t=i,0===Xe&&rt(ye)),Xe--,t===i&&(0===Xe&&rt(ve)),t}function At(){var t,n,a;for(Xe++,t=He,n=[],a=bt();a!==i;)n.push(a),a=bt();return t=n!==i?e.substring(t,He):n,Xe--,t===i&&(n=i,0===Xe&&rt(Ae)),t}function It(){var t,n,a;return Xe++,t=He,45===e.charCodeAt(He)?(n=Ee,He++):(n=i,0===Xe&&rt(Re)),n===i&&(n=null),n!==i&&(a=St())!==i?(ze=t,t=n=we(n,a)):(He=t,t=i),Xe--,t===i&&(n=i,0===Xe&&rt(Ie)),t}function Et(){var t,n;return Xe++,t=He,e.substr(He,2)===Se?(n=Se,He+=2):(n=i,0===Xe&&rt(Pe)),n!==i&&(ze=t,n=xe()),Xe--,(t=n)===i&&(n=i,0===Xe&&rt(_e)),t}function Rt(){var t,n,a,r,o,s;if(t=He,39===e.charCodeAt(He)?(n=F,He++):(n=i,0===Xe&&rt(j)),n!==i)if(a=function(){var t,n,a,r;t=He,n=He,e.length>He?(a=e.charAt(He),He++):(a=i,0===Xe&&rt(A));a!==i?(ze=He,(r=(r=Le(a))?void 0:i)!==i?n=a=[a,r]:(He=n,n=i)):(He=n,n=i);t=n!==i?e.substring(t,He):n;return t}(),a!==i){for(r=He,o=[],e.substr(He,2)===Se?(s=Se,He+=2):(s=i,0===Xe&&rt(Pe)),s===i&&(J.test(e.charAt(He))?(s=e.charAt(He),He++):(s=i,0===Xe&&rt(G)));s!==i;)o.push(s),e.substr(He,2)===Se?(s=Se,He+=2):(s=i,0===Xe&&rt(Pe)),s===i&&(J.test(e.charAt(He))?(s=e.charAt(He),He++):(s=i,0===Xe&&rt(G)));(r=o!==i?e.substring(r,He):o)!==i?(39===e.charCodeAt(He)?(o=F,He++):(o=i,0===Xe&&rt(j)),o===i&&(o=null),o!==i?(ze=t,t=n=ke(a,r)):(He=t,t=i)):(He=t,t=i)}else He=t,t=i;else He=t,t=i;return t}function wt(){var t,n,a,r;return t=He,n=He,e.length>He?(a=e.charAt(He),He++):(a=i,0===Xe&&rt(A)),a!==i?(ze=He,(r=(r=Oe(a))?void 0:i)!==i?n=a=[a,r]:(He=n,n=i)):(He=n,n=i),n===i&&(10===e.charCodeAt(He)?(n=Ce,He++):(n=i,0===Xe&&rt(Me))),t=n!==i?e.substring(t,He):n}function _t(){var t,n;return Xe++,t=He,(n=St())===i&&(n=Pt()),t=n!==i?e.substring(t,He):n,Xe--,t===i&&(n=i,0===Xe&&rt(Ne)),t}function St(){var t,n,a,r,o;if(Xe++,t=He,48===e.charCodeAt(He)?(n=Te,He++):(n=i,0===Xe&&rt(qe)),n!==i&&(ze=t,n=Fe()),(t=n)===i){if(t=He,n=He,je.test(e.charAt(He))?(a=e.charAt(He),He++):(a=i,0===Xe&&rt(Je)),a!==i){for(r=[],Ge.test(e.charAt(He))?(o=e.charAt(He),He++):(o=i,0===Xe&&rt(Be));o!==i;)r.push(o),Ge.test(e.charAt(He))?(o=e.charAt(He),He++):(o=i,0===Xe&&rt(Be));r!==i?n=a=[a,r]:(He=n,n=i)}else He=n,n=i;n!==i&&(ze=t,n=Ve(n)),t=n}return Xe--,t===i&&(n=i,0===Xe&&rt(De)),t}function Pt(){var t,n,a,r,o;if(Xe++,t=He,n=[],a=He,r=He,Xe++,(o=bt())===i&&(o=yt()),Xe--,o===i?r=void 0:(He=r,r=i),r!==i?(e.length>He?(o=e.charAt(He),He++):(o=i,0===Xe&&rt(A)),o!==i?a=r=[r,o]:(He=a,a=i)):(He=a,a=i),a!==i)for(;a!==i;)n.push(a),a=He,r=He,Xe++,(o=bt())===i&&(o=yt()),Xe--,o===i?r=void 0:(He=r,r=i),r!==i?(e.length>He?(o=e.charAt(He),He++):(o=i,0===Xe&&rt(A)),o!==i?a=r=[r,o]:(He=a,a=i)):(He=a,a=i);else n=i;return t=n!==i?e.substring(t,He):n,Xe--,t===i&&(n=i,0===Xe&&rt(Ue)),t}var xt=["root"];function kt(){return"plural"===xt[xt.length-1]}function Ot(){return t&&t.captureLocation?{location:Ze()}:{}}if((n=r())!==i&&He===e.length)return n;throw n!==i&&He<e.length&&rt({type:"end"}),ot(Qe,Ke<e.length?e.charAt(Ke):null,Ke<e.length?at(Ke,Ke+1):at(Ke,Ke))},ro=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),a=0;for(t=0;t<n;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,a++)i[a]=r[o];return i},oo=/(^|[^\\])#/g;function so(e){e.forEach(function(e){($r(e)||Xr(e))&&Object.keys(e.options).forEach(function(t){for(var n,i=e.options[t],a=-1,r=void 0,o=0;o<i.value.length;o++){var s=i.value[o];if(Hr(s)&&oo.test(s.value)){a=o,r=s;break}}if(r){var u=r.value.replace(oo,"$1{"+e.value+", number}"),l=ao(u);(n=i.value).splice.apply(n,ro([a,1],l))}so(i.value)})})}function uo(e,t){var n=ao(e,t);return t&&!1===t.normalizeHashtagInPlural||so(n),n}var lo=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),a=0;for(t=0;t<n;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,a++)i[a]=r[o];return i};function co(e){return JSON.stringify(e.map(function(e){return e&&"object"==typeof e?(t=e,Object.keys(t).sort().map(function(e){var n;return(n={})[e]=t[e],n})):e;var t}))}const po=function(e,t){return void 0===t&&(t={}),function(){for(var n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var r=co(i),o=r&&t[r];return o||(o=new((n=e).bind.apply(n,lo([void 0],i))),r&&(t[r]=o)),o}};var fo=function(){return fo=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},fo.apply(this,arguments)},mo=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function go(e){var t={};return e.replace(mo,function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) pattenrs are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) pattenrs are not supported, use `z` instead")}return""}),t}function ho(e){return e.replace(/^(.*?)-/,"")}var vo=/^\.(?:(0+)(\+|#+)?)?$/g,bo=/^(@+)?(\+|#+)?$/g;function yo(e){var t={};return e.replace(bo,function(e,n,i){return"string"!=typeof i?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===i?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof i?i.length:0)),""}),t}function Ao(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":return{currencySign:"accounting"};case"sign-always":return{signDisplay:"always"};case"sign-accounting-always":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":return{signDisplay:"never"}}}function Io(e){var t=Ao(e);return t||{}}function Eo(e){for(var t={},n=0,i=e;n<i.length;n++){var a=i[n];switch(a.stem){case"percent":t.style="percent";continue;case"currency":t.style="currency",t.currency=a.options[0];continue;case"group-off":t.useGrouping=!1;continue;case"precision-integer":t.maximumFractionDigits=0;continue;case"measure-unit":t.style="unit",t.unit=ho(a.options[0]);continue;case"compact-short":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=fo(fo(fo({},t),{notation:"scientific"}),a.options.reduce(function(e,t){return fo(fo({},e),Io(t))},{}));continue;case"engineering":t=fo(fo(fo({},t),{notation:"engineering"}),a.options.reduce(function(e,t){return fo(fo({},e),Io(t))},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue}if(vo.test(a.stem)){if(a.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");a.stem.replace(vo,function(e,n,i){return"."===e?t.maximumFractionDigits=0:"+"===i?t.minimumFractionDigits=i.length:"#"===n[0]?t.maximumFractionDigits=n.length:(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length+("string"==typeof i?i.length:0)),""}),a.options.length&&(t=fo(fo({},t),yo(a.options[0])))}else if(bo.test(a.stem))t=fo(fo({},t),yo(a.stem));else{var r=Ao(a.stem);r&&(t=fo(fo({},t),r))}}return t}var Ro,wo=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_o=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),a=0;for(t=0;t<n;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,a++)i[a]=r[o];return i},So=function(e){function t(t,n){var i=e.call(this,t)||this;return i.variableId=n,i}return wo(t,e),t}(Error);function Po(e,t,n,i,a,r,o){if(1===e.length&&Hr(e[0]))return[{type:0,value:e[0].value}];for(var s,u=[],l=0,c=e;l<c.length;l++){var d=c[l];if(Hr(d))u.push({type:0,value:d.value});else if(Zr(d))"number"==typeof r&&u.push({type:0,value:n.getNumberFormat(t).format(r)});else{var p=d.value;if(!a||!(p in a))throw new So('The intl string context variable "'+p+'" was not provided to the string "'+o+'"');var f=a[p];if(zr(d))f&&"string"!=typeof f&&"number"!=typeof f||(f="string"==typeof f||"number"==typeof f?String(f):""),u.push({type:1,value:f});else if(Kr(d)){var m="string"==typeof d.style?i.date[d.style]:void 0;u.push({type:0,value:n.getDateTimeFormat(t,m).format(f)})}else if(Qr(d)){m="string"==typeof d.style?i.time[d.style]:eo(d.style)?go(d.style.pattern):void 0;u.push({type:0,value:n.getDateTimeFormat(t,m).format(f)})}else if(Wr(d)){m="string"==typeof d.style?i.number[d.style]:Yr(d.style)?Eo(d.style.tokens):void 0;u.push({type:0,value:n.getNumberFormat(t,m).format(f)})}else if(Xr(d)){if(!(g=d.options[f]||d.options.other))throw new RangeError('Invalid values for "'+d.value+'": "'+f+'". Options are "'+Object.keys(d.options).join('", "')+'"');u.push.apply(u,Po(g.value,t,n,i,a))}else if($r(d)){var g;if(!(g=d.options["="+f])){if(!Intl.PluralRules)throw new So('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n');var h=n.getPluralRules(t,{type:d.pluralType}).select(f-(d.offset||0));g=d.options[h]||d.options.other}if(!g)throw new RangeError('Invalid values for "'+d.value+'": "'+f+'". Options are "'+Object.keys(d.options).join('", "')+'"');u.push.apply(u,Po(g.value,t,n,i,a,f-(d.offset||0)))}else;}}return(s=u).length<2?s:s.reduce(function(e,t){var n=e[e.length-1];return n&&0===n.type&&0===t.type?n.value+=t.value:e.push(t),e},[])}var xo=/@@(\d+_\d+)@@/g,ko=0;function Oo(e,t){return e.split(xo).filter(Boolean).map(function(e){return null!=t[e]?t[e]:e}).reduce(function(e,t){return e.length&&"string"==typeof t&&"string"==typeof e[e.length-1]?e[e.length-1]+=t:e.push(t),e},[])}var Co=/(<([0-9a-zA-Z-_]*?)>(.*?)<\/([0-9a-zA-Z-_]*?)>)|(<[0-9a-zA-Z-_]*?\/>)/,Mo=Date.now()+"@@",Lo=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function No(e,t,n){var i=e.tagName,a=e.outerHTML,r=e.textContent,o=e.childNodes;if(!i)return Oo(r||"",t);i=i.toLowerCase();var s=~Lo.indexOf(i),u=n[i];if(u&&s)throw new So(i+" is a self-closing tag and can not be used, please use another tag name.");if(!o.length)return[a];var l=Array.prototype.slice.call(o).reduce(function(e,i){return e.concat(No(i,t,n))},[]);return u?"function"==typeof u?[u.apply(void 0,l)]:[u]:_o(["<"+i+">"],l,["</"+i+">"])}function Do(e,t,n,i,a,r){var o=Po(e,t,n,i,a,void 0,r),s={},u=o.reduce(function(e,t){if(0===t.type)return e+t.value;var n=Date.now()+"_"+ ++ko;return s[n]=t.value,e+"@@"+n+"@@"},"");if(!Co.test(u))return Oo(u,s);if(!a)throw new So("Message has placeholders but no values was given");if("undefined"==typeof DOMParser)throw new So("Cannot format XML message without DOMParser");Ro||(Ro=new DOMParser);var l=Ro.parseFromString('<formatted-message id="'+Mo+'">'+u+"</formatted-message>","text/html").getElementById(Mo);if(!l)throw new So("Malformed HTML message "+u);var c=Object.keys(a).filter(function(e){return!!l.getElementsByTagName(e).length});if(!c.length)return Oo(u,s);var d=c.filter(function(e){return e!==e.toLowerCase()});if(d.length)throw new So("HTML tag must be lowercased but the following tags are not: "+d.join(", "));return Array.prototype.slice.call(l.childNodes).reduce(function(e,t){return e.concat(No(t,s,a))},[])}var To=function(){return To=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},To.apply(this,arguments)};function qo(e,t){return t?Object.keys(e).reduce(function(n,i){var a,r;return n[i]=(a=e[i],(r=t[i])?To(To(To({},a||{}),r||{}),Object.keys(a).reduce(function(e,t){return e[t]=To(To({},a[t]),r[t]||{}),e},{})):a),n},To({},e)):e}const Fo=function(){function e(t,n,i,a){var r,o=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){return function(e,t,n,i,a,r){var o=Po(e,t,n,i,a,void 0,r);return 1===o.length?o[0].value:o.reduce(function(e,t){return e+t.value},"")}(o.ast,o.locales,o.formatters,o.formats,e,o.message)},this.formatToParts=function(e){return Po(o.ast,o.locales,o.formatters,o.formats,e,void 0,o.message)},this.formatHTMLMessage=function(e){return Do(o.ast,o.locales,o.formatters,o.formats,e,o.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{normalizeHashtagInPlural:!1})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=qo(e.formats,i),this.locales=n,this.formatters=a&&a.formatters||(void 0===(r=this.formatterCache)&&(r={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:po(Intl.NumberFormat,r.number),getDateTimeFormat:po(Intl.DateTimeFormat,r.dateTime),getPluralRules:po(Intl.PluralRules,r.pluralRules)})}return e.defaultLocale=(new Intl.NumberFormat).resolvedOptions().locale,e.__parse=uo,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();function jo(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function a(){return!e||"string"==typeof e}const r="string"!=typeof t?[].concat(t):t.split(".");for(;r.length>1;){if(a())return{};const t=i(r.shift());!e[t]&&n&&(e[t]=new n),e=e[t]}return a()?{}:{obj:e,k:i(r.shift())}}const Jo=[],Go=Jo.forEach,Bo=Jo.slice;class Vo{constructor(e){this.type="i18nFormat",this.mem={},this.init(null,e)}init(e,t){const n=e&&e.options&&e.options.i18nFormat||{};if(this.options=function(e){return Go.call(Bo.call(arguments,1),function(t){if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])}),e}(n,t,this.options||{},{memoize:!0,memoizeFallback:!1,bindI18n:"",bindI18nStore:void 0,parseErrorHandler:(e,t,n)=>n}),this.formats=this.options?.formats,e){const{bindI18n:t,bindI18nStore:n,memoize:i}=this.options;e.IntlMessageFormat=Fo,e.ICU=this,i&&(t&&e.on(t,()=>this.clearCache()),n&&e.store.on(n,()=>this.clearCache()))}this.options?.localeData&&("[object Array]"===Object.prototype.toString.apply(this.options.localeData)?this.options.localeData.forEach(e=>this.addLocaleData(e)):this.addLocaleData(this.options.localeData))}addLocaleData(e){(Array.isArray(e)?e:[e]).forEach(e=>{e&&e.locale&&Fo.__addLocaleData(e)})}addUserDefinedFormats(e){this.formats=this.formats?{...this.formats,...e}:e}parse(e,t,n,i,a,r){const o=r&&r.resolved&&r.resolved.res,s=this.options?.memoize&&`${n}.${i}.${a.replace(/\./g,"###")}`;let u;this.options?.memoize&&(u=function(e,t){const{obj:n,k:i}=jo(e,t);if(n)return n[i]}(this.mem,s));try{return u||(u=new Fo(e,n,this.formats),this.options?.memoize&&(this.options.memoizeFallback||!r||o)&&function(e,t,n){const{obj:i,k:a}=jo(e,t,Object);i[a]=n}(this.mem,s,u)),u.format(t)}catch(n){return this.options?.parseErrorHandler?.(n,a,e,t)}}addLookupKeys(e){return e}clearCache(){this.mem={}}}Vo.type="i18nFormat";function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),i.forEach(function(t){ge(e,t,n[t])})}return e}function Ho(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zo(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,me(i.key),i)}}function Wo(e,t,n){return t&&zo(e.prototype,t),n&&zo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ko(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qo(e,t){if(t&&("object"==fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ko(e)}function Xo(e){return Xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xo(e)}function $o(e,t){return $o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$o(e,t)}function Zo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$o(e,t)}var Yo={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},es=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ho(this,e),this.init(t,n)}return Wo(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Yo,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,Uo({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}()),ts=function(){function e(){Ho(this,e),this.observers={}}return Wo(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)}),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter(function(e){return e!==t}):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach(function(e){e.apply(void 0,n)});this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){t.apply(t,[e].concat(n))})}}]),e}();function ns(){var e,t,n=new Promise(function(n,i){e=n,t=i});return n.resolve=e,n.reject=t,n}function is(e){return null==e?"":""+e}function as(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function a(){return!e||"string"==typeof e}for(var r="string"!=typeof t?[].concat(t):t.split(".");r.length>1;){if(a())return{};var o=i(r.shift());!e[o]&&n&&(e[o]=new n),e=Object.prototype.hasOwnProperty.call(e,o)?e[o]:{}}return a()?{}:{obj:e,k:i(r.shift())}}function rs(e,t,n){var i=as(e,t,Object);i.obj[i.k]=n}function os(e,t){var n=as(e,t),i=n.obj,a=n.k;if(i)return i[a]}function ss(e,t,n){var i=os(e,n);return void 0!==i?i:os(t,n)}function us(e,t,n){for(var i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):us(e[i],t[i],n):e[i]=t[i]);return e}function ls(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var cs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ds(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return cs[e]}):e}var ps="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,fs=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Ho(this,t),n=Qo(this,Xo(t).call(this)),ps&&ts.call(Ko(n)),n.data=e||{},n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return Zo(t,e),Wo(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,r=[e,t];return n&&"string"!=typeof n&&(r=r.concat(n)),n&&"string"==typeof n&&(r=r.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(r=e.split(".")),os(this.data,r)}},{key:"addResource",value:function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=this.options.keySeparator;void 0===r&&(r=".");var o=[e,t];n&&(o=o.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(i=t,t=(o=e.split("."))[1]),this.addNamespaces(t),rs(this.data,o,i),a.silent||this.emit("added",e,t,n,i)}},{key:"addResources",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var a in n)"string"!=typeof n[a]&&"[object Array]"!==Object.prototype.toString.apply(n[a])||this.addResource(e,t,a,n[a],{silent:!0});i.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(i=n,n=t,t=(o=e.split("."))[1]),this.addNamespaces(t);var s=os(this.data,o)||{};i?us(s,n,a):s=Uo({},s,n),rs(this.data,o,s),r.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Uo({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(ts),ms={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,i,a){var r=this;return e.forEach(function(e){r.processors[e]&&(t=r.processors[e].process(t,n,i,a))}),t}},gs={},hs=function(e){function t(e){var n,i,a,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ho(this,t),n=Qo(this,Xo(t).call(this)),ps&&ts.call(Ko(n)),i=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a=e,r=Ko(n),i.forEach(function(e){a[e]&&(r[e]=a[e])}),n.options=o,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=es.create("translator"),n}return Zo(t,e),Wo(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var r=e.match(this.interpolator.nestingRegexp);if(r&&r.length>0)return{key:e,namespaces:a};var o=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(o[0])>-1)&&(a=o.shift()),e=o.join(i)}return"string"==typeof a&&(a=[a]),{key:e,namespaces:a}}},{key:"translate",value:function(e,n,i){var a=this;if("object"!==fe(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var r=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,o=this.extractFromKey(e[e.length-1],n),s=o.key,u=o.namespaces,l=u[u.length-1],c=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(d){var p=n.nsSeparator||this.options.nsSeparator;return l+p+s}return s}var f=this.resolve(e,n),m=f&&f.res,g=f&&f.usedKey||s,h=f&&f.exactUsedKey||s,v=Object.prototype.toString.apply(m),b=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject;if(y&&m&&("string"!=typeof m&&"boolean"!=typeof m&&"number"!=typeof m)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(v)<0&&("string"!=typeof b||"[object Array]"!==v)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,m,n):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(r){var A="[object Array]"===v,I=A?[]:{},E=A?h:g;for(var R in m)if(Object.prototype.hasOwnProperty.call(m,R)){var w="".concat(E).concat(r).concat(R);I[R]=this.translate(w,Uo({},n,{joinArrays:!1,ns:u})),I[R]===w&&(I[R]=m[R])}m=I}}else if(y&&"string"==typeof b&&"[object Array]"===v)(m=m.join(b))&&(m=this.extendTranslation(m,e,n,i));else{var _=!1,S=!1,P=void 0!==n.count&&"string"!=typeof n.count,x=t.hasDefaultValue(n),k=P?this.pluralResolver.getSuffix(c,n.count):"",O=n["defaultValue".concat(k)]||n.defaultValue;!this.isValidLookup(m)&&x&&(_=!0,m=O),this.isValidLookup(m)||(S=!0,m=s);var C=x&&O!==m&&this.options.updateMissing;if(S||_||C){if(this.logger.log(C?"updateKey":"missingKey",c,l,s,C?O:m),r){var M=this.resolve(s,Uo({},n,{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var L=[],N=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&N&&N[0])for(var D=0;D<N.length;D++)L.push(N[D]);else"all"===this.options.saveMissingTo?L=this.languageUtils.toResolveHierarchy(n.lng||this.language):L.push(n.lng||this.language);var T=function(e,t,i){a.options.missingKeyHandler?a.options.missingKeyHandler(e,l,t,C?i:m,C,n):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(e,l,t,C?i:m,C,n),a.emit("missingKey",e,l,t,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?L.forEach(function(e){a.pluralResolver.getSuffixes(e).forEach(function(t){T([e],s+t,n["defaultValue".concat(t)]||O)})}):T(L,s,O))}m=this.extendTranslation(m,e,n,f,i),S&&m===s&&this.options.appendNamespaceToMissingKey&&(m="".concat(l,":").concat(s)),S&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(m))}return m}},{key:"extendTranslation",value:function(e,t,n,i,a){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(Uo({},n,{interpolation:Uo({},this.options.interpolation,n.interpolation)}));var o,s=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(s){var u=e.match(this.interpolator.nestingRegexp);o=u&&u.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=Uo({},this.options.interpolation.defaultVariables,l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),s){var c=e.match(this.interpolator.nestingRegexp);o<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return a&&a[0]===i[0]&&!n.context?(r.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null):r.translate.apply(r,i.concat([t]))},n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,p="string"==typeof d?[d]:d;return null!=e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=ms.handle(p,e,t,this.options&&this.options.postProcessPassResolved?Uo({i18nResolved:i},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,i,a,r,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(!o.isValidLookup(t)){var u=o.extractFromKey(e,s),l=u.key;n=l;var c=u.namespaces;o.options.fallbackNS&&(c=c.concat(o.options.fallbackNS));var d=void 0!==s.count&&"string"!=typeof s.count,p=void 0!==s.context&&"string"==typeof s.context&&""!==s.context,f=s.lngs?s.lngs:o.languageUtils.toResolveHierarchy(s.lng||o.language,s.fallbackLng);c.forEach(function(e){o.isValidLookup(t)||(r=e,!gs["".concat(f[0],"-").concat(e)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(r)&&(gs["".concat(f[0],"-").concat(e)]=!0,o.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(r,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(function(n){if(!o.isValidLookup(t)){a=n;var r,u,c=l,f=[c];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(f,l,n,e,s);else d&&(r=o.pluralResolver.getSuffix(n,s.count)),d&&p&&f.push(c+r),p&&f.push(c+="".concat(o.options.contextSeparator).concat(s.context)),d&&f.push(c+=r);for(;u=f.pop();)o.isValidLookup(t)||(i=u,t=o.getResource(n,e,u,s))}}))})}}),{res:t,usedKey:n,exactUsedKey:i,usedLng:a,usedNS:r}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),t}(ts);function vs(e){return e.charAt(0).toUpperCase()+e.slice(1)}var bs=function(){function e(t){Ho(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=es.create("languageUtils")}return Wo(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=vs(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=vs(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=vs(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach(function(e){if(!t){var i=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(i)||(t=i)}}),!t&&this.options.supportedLngs&&e.forEach(function(e){if(!t){var i=n.getLanguagePartFromCode(e);if(n.isSupportedCode(i))return t=i;t=n.options.supportedLngs.find(function(e){if(0===e.indexOf(i))return e})}}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],r=function(e){e&&(n.isSupportedCode(e)?a.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),i.forEach(function(e){a.indexOf(e)<0&&r(n.formatLanguageCode(e))}),a}}]),e}(),ys=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],As={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};var Is=function(){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ho(this,e),this.languageUtils=t,this.options=i,this.logger=es.create("pluralResolver"),this.rules=(n={},ys.forEach(function(e){e.lngs.forEach(function(t){n[t]={numbers:e.nr,plurals:As[e.fc]}})}),n)}return Wo(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map(function(e){return t+e})}},{key:"getSuffixes",value:function(e){var t=this,n=this.getRule(e);return n?n.numbers.map(function(n){return t.getSuffix(e,n)}):[]}},{key:"getSuffix",value:function(e,t){var n=this,i=this.getRule(e);if(i){var a=i.noAbs?i.plurals(t):i.plurals(Math.abs(t)),r=i.numbers[a];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var o=function(){return n.options.prepend&&r.toString()?n.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?o():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),Es=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ho(this,e),this.logger=es.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return Wo(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:ds,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?ls(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?ls(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?ls(t.nestingPrefix):t.nestingPrefixEscaped||ls("$t("),this.nestingSuffix=t.nestingSuffix?ls(t.nestingSuffix):t.nestingSuffixEscaped||ls(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,i){var a,r,o,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(s.formatSeparator)<0){var a=ss(t,u,e);return s.alwaysFormat?s.format(a,void 0,n):a}var r=e.split(s.formatSeparator),o=r.shift().trim(),l=r.join(s.formatSeparator).trim();return s.format(ss(t,u,o),l,n,i)};this.resetRegExp();var d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,p=i&&i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return l(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?l(s.escape(e)):l(e)}}].forEach(function(t){for(o=0;a=t.regex.exec(e);){if(void 0===(r=c(a[1].trim())))if("function"==typeof d){var n=d(e,a,i);r="string"==typeof n?n:""}else{if(p){r=a[0];continue}s.logger.warn("missed to pass in variable ".concat(a[1]," for interpolating ").concat(e)),r=""}else"string"==typeof r||s.useRawValueToEscape||(r=is(r));if(e=e.replace(a[0],t.safeValue(r)),t.regex.lastIndex=0,++o>=s.maxReplaces)break}}),e}},{key:"nest",value:function(e,t){var n,i,a=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Uo({},r);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var i=e.split(new RegExp("".concat(n,"[ ]*{"))),a="{".concat(i[1]);e=i[0],a=(a=this.interpolate(a,o)).replace(/'/g,'"');try{o=JSON.parse(a),t&&(o=Uo({},t,o))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(a)}return delete o.defaultValue,e}for(o.applyPostProcessor=!1,delete o.defaultValue;n=this.nestingRegexp.exec(e);){var u=[],l=!1;if(n[0].includes(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map(function(e){return e.trim()});n[1]=c.shift(),u=c,l=!0}if((i=t(s.call(this,n[1].trim(),o),o))&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=is(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),i=""),l&&(i=u.reduce(function(e,t){return a.format(e,t,r.lng,r)},i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}]),e}();var Rs=function(e){function t(e,n,i){var a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ho(this,t),a=Qo(this,Xo(t).call(this)),ps&&ts.call(Ko(a)),a.backend=e,a.store=n,a.services=i,a.languageUtils=i.languageUtils,a.options=r,a.logger=es.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(i,r.backend,r),a}return Zo(t,e),Wo(t,[{key:"queueLoad",value:function(e,t,n,i){var a=this,r=[],o=[],s=[],u=[];return e.forEach(function(e){var i=!0;t.forEach(function(t){var s="".concat(e,"|").concat(t);!n.reload&&a.store.hasResourceBundle(e,t)?a.state[s]=2:a.state[s]<0||(1===a.state[s]?o.indexOf(s)<0&&o.push(s):(a.state[s]=1,i=!1,o.indexOf(s)<0&&o.push(s),r.indexOf(s)<0&&r.push(s),u.indexOf(t)<0&&u.push(t)))}),i||s.push(e)}),(r.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:i}),{toLoad:r,pending:o,toLoadLanguages:s,toLoadNamespaces:u}}},{key:"loaded",value:function(e,t,n){var i=e.split("|"),a=i[0],r=i[1];t&&this.emit("failedLoading",a,r,t),n&&this.store.addResourceBundle(a,r,n),this.state[e]=t?-1:2;var o={};this.queue.forEach(function(n){!function(e,t,n,i){var a=as(e,t,Object),r=a.obj,o=a.k;r[o]=r[o]||[],i&&(r[o]=r[o].concat(n)),i||r[o].push(n)}(n.loaded,[a],r),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach(function(e){o[e]||(o[e]=[]),n.loaded[e].length&&n.loaded[e].forEach(function(t){o[e].indexOf(t)<0&&o[e].push(t)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(function(e){return!e.done})}},{key:"read",value:function(e,t,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,o=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,function(s,u){s&&u&&a<5?setTimeout(function(){i.read.call(i,e,t,n,a+1,2*r,o)},r):o(s,u)}):o(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var r=this.queueLoad(e,t,i,a);if(!r.toLoad.length)return r.pending.length||a(),null;r.toLoad.forEach(function(e){n.loadOne(e)})}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),a=i[0],r=i[1];this.read(a,r,"read",void 0,void 0,function(i,o){i&&t.logger.warn("".concat(n,"loading namespace ").concat(r," for language ").concat(a," failed"),i),!i&&o&&t.logger.log("".concat(n,"loaded namespace ").concat(r," for language ").concat(a),o),t.loaded(e,i,o)})}},{key:"saveMissing",value:function(e,t,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,i,null,Uo({},r,{isUpdate:a})),e&&e[0]&&this.store.addResource(e[0],t,n,i))}}]),t}(ts);function ws(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function _s(){}new(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(Ho(this,t),e=Qo(this,Xo(t).call(this)),ps&&ts.call(Ko(e)),e.options=ws(n),e.services={},e.logger=es,e.modules={external:[]},i&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,i),Qo(e,Ko(e));setTimeout(function(){e.init(n,i)},0)}return e}return Zo(t,e),Wo(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function i(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=Uo({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===fe(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===fe(e[2])||"object"===fe(e[3])){var n=e[3]||e[2];Object.keys(n).forEach(function(e){t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:function(e,t,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}},this.options,ws(t)),this.format=this.options.interpolation.format,n||(n=_s),!this.options.isClone){this.modules.logger?es.init(i(this.modules.logger),this.options):es.init(null,this.options);var a=new bs(this.options);this.store=new fs(this.options.resources,this.options);var r=this.services;r.logger=es,r.resourceStore=this.store,r.languageUtils=a,r.pluralResolver=new Is(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),r.interpolator=new Es(this.options),r.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},r.backendConnector=new Rs(i(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];e.emit.apply(e,[t].concat(i))}),this.modules.languageDetector&&(r.languageDetector=i(this.modules.languageDetector),r.languageDetector.init(r,this.options.detection,this.options)),this.modules.i18nFormat&&(r.i18nFormat=i(this.modules.i18nFormat),r.i18nFormat.init&&r.i18nFormat.init(this)),this.translator=new hs(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];e.emit.apply(e,[t].concat(i))}),this.modules.external.forEach(function(t){t.init&&t.init(e)})}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var o=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);o.length>0&&"dev"!==o[0]&&(this.options.lng=o[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}});var s=ns(),u=function(){var t=function(t,i){e.isInitialized&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),s.resolve(i),n(t,i)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),s}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_s,i="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return n();var a=[],r=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach(function(e){a.indexOf(e)<0&&a.push(e)})};if(i)r(i);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(e){return r(e)});this.options.preload&&this.options.preload.forEach(function(e){return r(e)}),this.services.backendConnector.load(a,this.options.ns,n)}else n(null)}},{key:"reloadResources",value:function(e,t,n){var i=ns();return e||(e=this.languages),t||(t=this.options.ns),n||(n=_s),this.services.backendConnector.reload(e,t,function(e){i.resolve(),n(e)}),i}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&ms.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var i=ns();this.emit("languageChanging",e);var a=function(e){var a="string"==typeof e?e:n.services.languageUtils.getBestMatchFromCodes(e);a&&(n.language||(n.language=a,n.languages=n.services.languageUtils.toResolveHierarchy(a)),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,function(e){!function(e,a){a?(n.language=a,n.languages=n.services.languageUtils.toResolveHierarchy(a),n.translator.changeLanguage(a),n.isLanguageChangingTo=void 0,n.emit("languageChanged",a),n.logger.log("languageChanged",a)):n.isLanguageChangingTo=void 0,i.resolve(function(){return n.t.apply(n,arguments)}),t&&t(e,function(){return n.t.apply(n,arguments)})}(e,a)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t){var n=this,i=function e(t,i){var a;if("object"!==fe(i)){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];a=n.options.overloadTranslationOptionHandler([t,i].concat(o))}else a=Uo({},i);return a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,n.t(t,a)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.languages[0],a=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var o=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};if(n.precheck){var s=n.precheck(this,o);if(void 0!==s)return s}return!!this.hasResourceBundle(i,e)||(!this.services.backendConnector.backend||!(!o(i,e)||a&&!o(r,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,i=ns();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)}),this.loadResources(function(e){i.resolve(),t&&t(e)}),i):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=ns();"string"==typeof e&&(e=[e]);var i=this.options.preload||[],a=e.filter(function(e){return i.indexOf(e)<0});return a.length?(this.options.preload=i.concat(a),this.loadResources(function(e){n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_s,a=Uo({},this.options,n,{isClone:!0}),r=new t(a);return["store","services","language"].forEach(function(t){r[t]=e[t]}),r.services=Uo({},this.services),r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r.translator=new hs(r.services,r.options),r.translator.on("*",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit.apply(r,[e].concat(n))}),r.init(a,i),r.translator.options=r.options,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}}]),t}(ts));const Ss=e=>function(t){void 0===t&&(t={});const n="function"==typeof e.factory?e.factory(t):e;return function(e,t){return Object.defineProperty(t,"updateDefaults",{value:function(t){return e.updateDefaults(t)}}),t}(n,n.logger())};const Ps={sentryConfig:{DSN:"https://e0b4d631da7b4200828051f7f9c783e3@sentry-next.wixpress.com/17329",id:"undefined",projectName:"restaurant-menus-showcase-ooi",teamName:"restaurants-web",errorMonitor:!0},biConfig:null,fedopsConfig:null,experimentsConfig:{scopes:["viewer-apps-b278a256-2757-4f19-9313-c05c783bec92","viewer-apps-owner-scope-b278a256-2757-4f19-9313-c05c783bec92"],centralized:!0},biLogger:Ss,translationsConfig:{icuEnabled:!0,defaultTranslationsPath:"/home/builduser/work/577998b473ec68b1/packages/restaurant-menus-showcase-ooi/src/assets/locales/messages_en.json",availableLanguages:["ar","bg","ca","cs","da","de","el","en","es","fi","fr","he","hi","hr","hu","id","it","ja","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sk","sl","sv","th","tl","tr","uk","vi","zh"]},persistentAcrossPages:!1,appName:"Restaurants Menus (New)",componentName:"Menus",appDefinitionId:"b278a256-2757-4f19-9313-c05c783bec92",componentId:"3f7c620e-526a-4dbb-afff-6fb77bfa8dcc",projectName:"restaurant-menus-showcase-ooi",defaultTranslations:{"app.settings.layout-tab.expand.strip.field.item-padding":"Background padding","app.settings.layout-tab.expand.strip.field.menu-vertical-padding":"Vertical","app.settings.layout-tab.grid.field.columns-space":"Spacing between columns","app.settings.display-tab.specific-menus-radio-button":"Specific menus and sections","app.settings.style-ai-tab.progress-bar.step-two":"Generating styles...","app.settings.layout-tab.expand.center.section.item-layout":"Item layout","app.settings.layout-tab.section.item-layout":"Item layout","app.settings.design-tab.navigation.tabs.default.background":"Background opacity and color","app.settings.display-tab.column-divider":"Column divider","app.settings.layout-tab.section.item-layout.Image-position.right":"Right","app.settings.layout-tab.expand.center.field.section-padding.vertical":"Top and bottom padding","app.settings.design-tab.navigation.dropdown.border-radius":"Border corner radius","app.settings.design-tab.modifiers.tabs.state.hover":"Hover","app.settings.design-tab.labels.title":"Labels","app.widget.modifier-groups.show-button.less-text":"Show Less","app.settings.layout-tab.field.menu-navigation.tabs-padding":"Background padding","app.settings.style-ai-tab.progress-bar.step-three":"Preparing designs...","app.settings.design-tab.items.title":"Items","app.settings.layout-tab.section.menu-background":"Background padding","app.settings.tabs.menus.manage-menus.link":"Go to Dashboard","app.settings.layout-tab.field.menu-navigation.alignment":"Alignment","app.settings.design-tab.section.menu-name":"Menu name","app.settings.design-tab.unified-navigation.tabs.border-radius":"Border corner radius","app.settings.display-tab.multiple-menus-tabs.info-content":"The navigation will only appear if more than one menu is visible on your site.","app.settings.layout-tab.center.field.rows-space":"Spacing between items","app.settings.studio-changes-banner.learn-more":"Learn More","app.settings.layout-tab.expand.strip.section.section-layout":"Section layout","app.settings.design-tab.sections.topDividerStyle":"Top divider style","app.settings.design-tab.variants.title":"Variants","app.settings.design-tab.sections.section-header.description-font":"Description font and color","app.settings.design-tab.location-navigation.dropdown.title":"Multi-menu dropdown","app.settings.display-tab.dividers-sections":"Sections","app.settings.design-tab.menus.title":"Menus","app.settings.design-tab.navigation.tabs.border-width-color":"Border width and color","app.settings.layout-tab.expand.center.field.section-padding.horizontal":"Side padding","component.menu.empty-state":"This menu currently has not items to show.","app.settings.design-tab.navigation.tabs.selected.background":"Background opacity and color","app.settings.design-tab.navigation.dropdown.border-width":"Border width","app.settings.layout-tab.columns.section.layout-settings":"Layout settings","app.settings.layout-tab.expand.strip.field.image-size":"Image size","app.settings.layout-tab.section.navigation":"Multi-menu navigation","app.settings.design-tab.featured-item.sections.layout":"Layout","app.settings.display-tab.title.section.mobile.Side-image":"Featured image","app.settings.layout-tab.expand.center.field.sections-space":"Spacing between sections","app.settings.layout-tab.field.menu-navigation.dropdown":"Dropdown","app.settings.design-tab.labels.border-color":"Border opacity and color","app.settings.design-tab.items.image-radius":"Image corner radius","app.settings.display-tab.title.Variants":"Variants","app.settings.style-ai-tab.progress-bar.step-one":"Checking your description...","app.settings.design-tab.navigation.dropdown.style.underline":"Underline","app.settings.design-tab.menus.border-color-width":"Border width and color","app.settings.layout-tab.field.preset.center":"Center","app.settings.design-tab.items.divider-width":"Item divider width","app.settings.design-tab.sections.section-header.bottom-divider-width":"Bottom divider width","app.settings.tabs.display":"Display","app.settings.layout-tab.expand.strip.field.menu-header-alignment":"Name and description alignment","app.settings.style-ai-tab.revert-button":"Revert","app.settings.design-tab.characters-and-lines":"Characters and line spacing","app.settings.display-tab.all-menus-radio-button":"All menus and sections","app.settings.design-tab.labels.horizontal-padding":"Side padding","app.settings.display-tab.entity-dots":"Dotted line","app.settings.design-tab.navigation.tabs.selected-indicator":"Selected indicator opacity and color","app.settings.layout-tab.field.image-size":"Image size","app.settings.design-tab.unified-navigation.menu-tabs.title":"Multi-menu","app.settings.design-tab.section.horizontal-menu":"Horizontal menu","app.settings.design-tab.sections.expand-colapse-icon-size":"Icon size","app.settings.design-tab.items.border-color-width":"Border color and width","app.settings.layout-tab.field.menu-vertical-padding":"Vertical","app.settings.layout-tab.field.section-padding":"Background padding","app.settings.fields.corner-input.tooltip.unpressed":"Apply to all corners","app.settings.design-tab.menu-navigation.dropdown.title":"Multi-menu dropdown","app.settings.design-tab.modifiers.hover.color":"Text color","app.settings.layout-tab.field.menu-navigation.full-width-tab":"Stretch tabs to full width","app.settings.display-tab.priceInfo.text":"Show or hide prices set to 0 in <url>Pricing options</url>.","app.settings.design-tab.navigation.tabs.border-radius":"Border corner radius","app.settings.layout-tab.field.image-ratio":"Image ratio","app.settings.design-tab.labels.spacing-title":"Label spacing","app.settings.design-tab.navigation.tabs.state.default":"Default","app.settings.design-tab.unified-navigation.tabs.border-width-color":"Border width and color","app.settings.layout-tab.expand.strip.section.menu-layout":"Menu layout","app.settings.design-tab.field.modifiers.list-view.collapse":"Collapsed","component.section.expand.aria-label":"Expand section\n","app.settings.display-tab.pricing-options.showZero.subtitle":"Which menus and sections should show prices set to 0?","app.settings.design-tab.featured-item.placement.after":"After item name","app.settings.layout-tab.columns.field.sections-space":"Spacing between sections","app.settings.design-tab.sections.column-divider.title":"Column divider","app.settings.display-tab.entity-modifier-group-name":"Group name","app.settings.display-tab.title.section.Side-image":"Featured image","app.settings.layout-tab.field.menu-navigation.tabs-space-between-rows":"Spacing between rows","app.settings.design-tab.section.item-image":"Item image","app.settings.style-ai-tab.generate-button":"Generate Design","app.settings.layout-tab.display.field.horizontal":"Horizontal","app.settings.design-tab.navigation.tabs.arrows-color":"Scroll arrow color","app.settings.layout-tab.expand.strip.field.menu-horizontal-padding":"Horizontal","app.settings.layout-tab.expand.center.section.menu-background":"Background padding","app.settings.design-tab.items.titles-font":"Title font and color","app.settings.layout-tab.expand.strip.section.item-layout.Image-position.title":"Image position","app.settings.display-tab.sectionsTabs.infoIcon.text":"Adding section navigation changes the layout and design of your menu page. You can turn it off anytime.","app.settings.layout-tab.field.section-navigation.full-width-tab":"Stretch tabs to full width","app.settings.design-tab.navigation.dropdown.style":"Style","app.settings.layout-tab.field.preset.strip":"Strip","app.settings.tabs.menus.draft.text":"draft","app.settings.design-tab.modifiers.modifier-font-and-color":"Modifiers and price font and color","app.settings.design-tab.labels.icon-size":"Size","app.settings.design-tab.items.divider-style":"Divider style","app.settings.design-tab.effects":"Effects","app.settings.design-tab.featured-item.title.info-content":"Customize the design for all items marked as featured. These settings apply to all featured items on your menu.","app.settings.layout-tab.expand.strip.field.section-alignment":"Name and description alignment","app.settings.layout-tab.grid.field.columns":"Max. items per row","app.settings.design-tab.sections.border-color-width":"Border color and width","app.settings.layout-tab.expand.strip.section.item-layout.Image-position.right":"Right","app.settings.design-tab.title":"Menu Design","app.settings.layout-tab.expand.center.field.menu-horizontal-padding":"Horizontal","app.settings.layout-tab.field.section-image-height":"Image height","app.settings.layout-tab.field.locations.display":"Display","app.settings.display-tab.pricing-options.showZero.toggle":"Show prices set to 0","app.settings.display-tab.title.Sections":"Sections","app.settings.layout-tab.expand.center.field.rows-space":"Spacing between items","app.settings.design-tab.labels.icon-title":"Label icon","app.settings.layout-tab.expand.strip.field.sections-space":"Spacing between sections","app.settings.layout-tab.expand.center.field.item-padding":"Background padding","app.settings.layout-tab.columns.field.items-space":"Spacing between items","app.settings.design-tab.menus.description-font":"Description font and color","app.settings.layout-tab.section.locations":"Location navigation","app.settings.layout-tab.expand.center.section.section-layout":"Section layout","app.settings.design-tab.labels.use-icon-color":"Customize icon color","app.settings.design-tab.section.variant-name":"Variant name","app.settings.design-tab.items.divider-color":"Item divider opacity and color","app.settings.tabs.menus.specific":"Specific menus","app.settings.design-tab.navigation.tabs.default.font":"Text font and color","app.settings.layout-tab.grid.field.item-details-padding":"Item details side padding","app.settings.layout-tab.expand.strip.section.item-layout.Image-position.left":"Left","app.settings.layout-tab.columns.field.columns-space":"Spacing between columns","app.settings.layout-tab.field.preset.grid":"Grid","app.settings.layout-tab.center.field.sections-space":"Spacing between sections","app.settings.layout-tab.section.item-layout.Image-position.title":"Image position","app.settings.layout-tab.expand.center.field.menu-vertical-padding":"Vertical","app.settings.design-tab.unified-navigation.menu-dropdown.title":"Multi-menu dropdown","app.settings.fields.text-style.bold":"Bold","app.settings.design-tab.sections.section-image":"Section image","app.settings.layout-tab.section.section-layout":"Section layout","app.settings.layout-tab.section.menu-layout":"Menu layout","app.settings.style-ai-tab.description.placeholder":"e.g., a modern design with bold typography and vibrant colors","app.settings.design-tab.sections.section-header.top-divider-color":"Top divider opacity and color","app.settings.layout-tab.center.field.item-details-padding":"Item details side padding","app.settings.layout-tab.grid":"Grid","app.settings.tabs.design":"Design","app.settings.design-tab.unifiedNavigation.title":"Navigation","app.settings.design-tab.navigation.tabs.title":"Tabs","app.settings.design-tab.menus.background":"Background opacity and color","app.settings.design-tab.items.border-radius":"Border corner radius","app.settings.design-tab.section.item-divider":"Item divider","app.settings.layout-tab.field.preset.expand":"Expand","app.settings.design-tab.fonts":"Fonts","app.settings.display-tab.title.GridDividers":"Divider","app.settings.design-tab.section.item-price":"Item price","app.settings.layout-tab.field.menu-navigation.tabs-space-between":"Spacing between tabs","app.settings.style-ai-tab":"Style AI","app.settings.layout-tab.display.field.vertical":"Vertical","app.settings.layout-tab.expand.strip.field.image-ratio":"Image ratio","app.settings.layout-tab.expand.strip.field.section-padding.horizontal":"Side padding","app.settings.design-tab.dots.title":"Dotted line","app.settings.design-tab.navigation.tabs.background":"Background opacity and color","app.settings.layout-tab.field.preset.sideBySide":"Split","app.settings.style-ai-tab.site-theme.info-content":"The existing site theme will be used when generating new styles.","app.settings.layout-tab.field.expand-type.title":"Expand collapse type","app.settings.design-tab.featured-item.override-item-design":"Customize item elements","app.settings.design-tab.column-divider.title":"Column divider","app.settings.design-tab.dots.border-size":"Size","app.settings.design-tab.navigation.tabs.default.border-width-color":"Border width and color","app.settings.display-tab.entity-modifier-icon":"Icon","app.settings.layout-tab.field.menu-horizontal-padding":"Horizontal","app.settings.design-tab.themes":"Themes","app.settings.design-tab.featured-item.reset":"Reset To Original Design","app.settings.design-tab.navigation.tabs.default.border-radius":"Border corner radius","app.settings.design-tab.section.border-radius":"Image corner radius","app.settings.style-ai-tab.results.error.cta":"Try Again","app.settings.design-tab.unified-navigation.tabs.background":"Background","app.settings.layout-tab.section.layout-settings":"Layout settings","app.settings.display-tab.title.multipleMenus":"Multiple menus","app.settings.display-tab.entity-icon":"Icon","app.settings.layout-tab.field.preset.expand.strip":"Strip","app.settings.design-tab.labels.space-between":"Spacing between labels","app.settings.layout-tab.field.locations.alignment":"Alignment","app.settings.design-tab.section.section-description":"Section description","app.settings.display-tab.image-placeholder.action.reset":"Reset to default","app.settings.layout-tab.expand.strip.section.menu-background":"Background padding","app.settings.studio-changes-banner.changes-cascade.content":"Changes will cascade to lower breakpoints.","app.settings.design-tab.section.section-name":"Section name","app.settings.design-tab.sections.column-divider.width":"Divider width","app.settings.layout-tab.field.menu-header-alignment":"Name and description alignment","app.settings.design-tab.featured-item.placement.before":"Before item name","app.settings.design-tab.reset":"Reset to original design","app.settings.design-tab.sections.title":"Sections","app.settings.display-tab.entity-image":"Image","app.settings.layout-tab.field.image-ratio.4_3":"4:3","app.settings.design-tab.sections.border-radius":"Border corner radius","app.settings.layout-tab.field.image-bottom-padding":"Bottom padding","app.settings.display-tab.title.section.Pricing-options":"Pricing options","app.settings.design-tab.navigation.tabs.font":"Text font and color","app.settings.style-ai-tab.site-theme.label":"Keep site theme","app.settings.design-tab.field.modifiers.list-view":"Modifier list appearance","app.settings.display-tab.multiple-menus-tabs":"Menu navigation","app.settings.design-tab.navigation.tabs.selected.border-radius":"Border corner radius","app.settings.design-tab.featured-item.background-padding":"Background padding","app.settings.design-tab.unified-navigation.tabs.arrows-color":"Scroll arrow color","app.settings.style-ai-tab.results.title":"Choose your design","app.settings.layout-tab.field.preset.expand.center":"Center","app.breadcrumbs.labels.menus":"Menus","app.settings.design-tab.navigation.tabs.state.selected":"Selected","app.settings.layout-tab.reset-layout":"Reset to original layout","app.settings.layout-tab.field.section-alignment":"Name and description alignment","app.settings.design-tab.items.description-font":"Description font and color","app.settings.tabs.manage.addPageButton":"Add Menu Page","app.settings.display-tab.additional-options":"Additional display options","app.settings.layout-tab.field.item-padding":"Background padding","app.settings.design-tab.field.modifiers.list-view.show-all":"Show all","app.settings.tabs.main":"Main","app.settings.design-tab.labels.use-icon-color.tooltip":"Icons will be displayed using the same colors as uploaded.","app.settings.design-tab.variants.titles-font":"Title font and color","app.settings.design-tab.featured-item.title":"Featured item","app.settings.design-tab.items.background":"Background opacity and color","app.settings.design-tab.section.variant-price":"Variant price","app.settings.design-tab.items.grid-divider-color":"Divider opacity and color","app.settings.display-tab.title.sectionNavigation":"Section navigation","app.settings.layout-tab.field.image-ratio.16_9":"16:9","app.settings.design-tab.sections.bottomDividerStyle":"Bottom divider style","app.settings.design-tab.featured-item.use-icon":"Show star icon","app.settings.design-tab.labels.titles-font":"Title font and color","app.settings.display-tab.entity-description":"Description","app.settings.design-tab.featured-item.icon-color":"Star color","app.settings.style-ai-tab.tab-description":"Add a few details and let AI generate a style for your menu.","app.settings.design-tab.section.item-description":"Item description","app.settings.display-tab.title.Items":"Items","app.settings.design-tab.menus.titles-font":"Title font and color","app.settings.display-tab.image-placeholder.show-placeholder.toggle":"Show placeholder images","app.settings.design-tab.font-size":"Font size","app.settings.layout-tab.expand.strip.field.section-padding.vertical":"Top and bottom padding","app.settings.design-tab.navigation.dropdown.title":"Dropdown","app.settings.layout-tab.expand.strip.section.item-layout":"Item layout","app.settings.design-tab.labels.border-width":"Border width","app.settings.design-tab.sections.section-header.titles-font":"Title font and color","app.settings.display-tab.entity-labels":"Labels","app.settings.style-ai-tab.description.info-content":"Describe the overall look and feel, including specific layout, colors and fonts.","app.settings.layout-tab.field.menu-navigation.tabs-overflow.scroll":"Scroll","app.settings.layout-tab.grid.field.sections-space":"Spacing between sections","app.settings.design-tab.featured-item.icon-placement":"Star placement","app.settings.tabs.manage.manageMenusButton":"Manage Menus","app.settings.design-tab.sections.expand-colapse-icon-section-title":"Icon","app.settings.layout-tab.columns.field.item-alignment":"Item alignment","app.settings.tabs.menus.manage-menus.text":"Manage and create new menus in the Dashboard.","app.widget.modifier-groups.show-button.more-text":"Show More","add-page.progress-bar.in-progress":"Preparing the page...","app.settings.design-tab.navigation.dropdown.font":"Text font and color","app.settings.display-tab.title.section.Image-placeholder":"Placeholder image","app.settings.fields.text-style.underline":"Underline","app.settings.design-tab.navigation.dropdown.style.box":"Box","app.settings.layout-tab.field.menu-navigation.tabs-overflow.wrap":"Wrap","app.settings.design-tab.sections.section-header.items-image":"Item image","app.settings.tabs.back-button":"Back","app.settings.design-tab.navigation.tabs.tab.title":"Tab states","app.settings.design-tab.menus.border-radius":"Border corner radius","app.settings.display-tab.title.Menu":"Menu","app.page.title":"Menus","app.settings.design-tab.sections.expand-colapse-icon":"Expand collapse icon","add-page.progress-bar.title":"Adding your menu page","app.settings.design-tab.sections.background":"Background opacity and color","app.settings.design-tab.sections.section-header.title":"Section header","app.settings.layout-tab.field.unified-navigation.alignment":"Navigation alignment","app.settings.fields.border-picker.lock":"Edit individually","app.settings.design-tab.navigation.tabs.selected.border-width-color":"Border width and color","app.settings.layout-tab.field.image-ratio.1_1":"1:1","app.settings.layout-tab.expand.center.section.layout-settings":"Layout settings","app.settings.tabs.manage.subtitle":"Create and customize menus to showcase your offering.","app.settings.layout-tab.expand.center.field.section-divider-margin":"Spacing under divider","app.settings.layout-tab.grid.field.rows-space":"Spacing between rows","app.settings.layout-tab.field.image-ratio.9_16":"9:16","app.settings.tabs.menus.draft.tooltip":"This menu is marked as a draft. To display it, go to menu details\u2028in the Dashboard and uncheck\u2028\u201cMark as draft.\u201d","app.settings.design-tab.modifiers.modifier-group-font-and-color":"Group name font and color","app.settings.display-tab.entity-price":"Price","app.settings.design-tab.dots.border-color":"Opacity and color","app.settings.design-tab.labels.icon-color":"Color","component.section.collapse.aria-label":"Collapse section","app.settings.layout-tab.field.preset.columns":"Columns","app.settings.display-tab.image-placeholder.show-placeholder.select-image":"Select image","app.settings.layout-tab.section.section-navigation":"Section navigation","app.settings.style-ai-tab.results.error":"Couldn\u2019t display design options due to an issue on our end. Wait a moment and try again.","app.settings.layout-tab.section.item-image":"Item image","app.settings.display-tab.title.Dividers":"Dividers","add-page.progress-bar.completed":"Your new menu page is ready!","app.settings.layout-tab.field.preset.title":"Choose a layout","app.settings.design-tab.variants.price-font":"Price font and color","app.settings.design-tab.vertical-text":"Vertical text","app.settings.display-tab.title.Elements":"{count, plural, one {Design element} other {Design elements}}","app.settings.design-tab.menu-navigation.title":"Multi-menu","app.settings.design-tab.labels.vertical-padding":"Top and bottom padding","app.settings.design-tab.section.item-name":"Item name","app.settings.design-tab.featured-item.sections.design-elements":"Item elements","app.settings.design-tab.unified-navigation.location-dropdown.title":"Location dropdown","app.settings.design-tab.navigation.dropdown.background":"Background color","app.settings.display-tab.entity-dots.info-content":"Connects items and variants to their prices.","app.settings.display-tab.entity-currency":"Currency","app.settings.design-tab.unified-navigation.tabs.divider-color":"Divider color","app.settings.display-tab.title.navigation":"Navigation","app.settings.tabs.menus":"Menus","app.settings.design-tab.modifiers.icon-color":"Icon color","app.settings.style-ai-tab.footer":"AI can make mistakes, so double-check that the results are accurate before using them.","app.settings.design-tab.modifiers.button.title":"Show More button","app.settings.layout-tab.field.section-navigation.tabs-space-between":"Spacing between tabs","app.settings.layout-tab.field.section-divider-margin":"Spacing under divider","app.settings.layout-tab.expand.strip.field.items-space":"Spacing between items","app.settings.design-tab.sections.section-header.top-divider-width":"Top divider width","app.settings.design-tab.labels.background":"Background opacity and color","app.settings.design-tab.section-navigation.tabs.tab.title":"Section navigation tabs","app.settings.layout-tab.field.preset.imageOneColumn":"Split","app.settings.tabs.manage":"Manage","app.settings.design-tab.section.menu-description":"Menu description","app.settings.tabs.menus.title":"Which menus should be displayed and in what order?","app.settings.fields.corner-input.tooltip.pressed":"Edit individually","app.settings.design-tab.featured-item.sections.design-elements.info-content":"Labels, variants, and modifiers are not customizable. They\u2019ll use the regular item design.","app.settings.tabs.layout":"Layout","app.settings.tabs.menus.all":"All menus","app.settings.display-tab.dividers-items":"Items","app.settings.label":"Configure Widget","app.settings.layout-tab.field.menu-navigation.tabs":"Tabs","app.settings.design-tab.navigation.dropdown.border-color":"Border opacity and color","app.settings.layout-tab.section.item-layout.Image-position.left":"Left","app.settings.design-tab.variants.divider-color":"Divider opacity and color","component.menu.error-state":"Couldn't load menus due to a technical issue. <br/>Refresh the page to try again.","app.settings.design-tab.unified-navigation.tabs.title":"Navigation container","app.settings.design-tab.navigation.title":"Multi-menu navigation","app.settings.fields.border-picker.unlock":"Apply to all corners","app.settings.layout-tab.columns.field.columns":"Number of columns","app.settings.design-tab.labels.border-radius":"Border radius","app.settings.design-tab.modifiers.tabs.regular.font":"Button font and color","app.settings.style-ai-tab.description.label":"Describe menu style","app.settings.display-tab.image-placeholder.show-placeholder.choose-menus":"Which menus and sections should display placeholder images?","app.settings.fields.text-style.italic":"Italic","app.settings.layout-tab.field.menu-navigation":"Choose navigation style","app.settings.display-tab.title.modifiers":"Modifiers","app.settings.display-tab.image-placeholder.action.change":"Change","app.settings.style-ai-tab.description.error":"Enter a description of the menu style you\u2019d like.","app.settings.studio-changes-banner.changes-apply-to-all.content":"Changes apply to all breakpoints.","app.breadcrumbs.labels.home":"Home","app.settings.layout-tab.grid.field.item-alignment":"Item alignment","app.settings.design-tab.featured-item.icon-size":"Star size","app.settings.design-tab.modifiers.tabs.state.regular":"Regular","app.settings.design-tab.section.label":"Label","app.settings.display-tab.side-image.show-image.toggle":"Show image on mobile","app.settings.layout-tab.field.menu-navigation.tabs-overflow":"Display","app.settings.layout-tab.field.image-ratio.3_4":"3:4","app.settings.display-tab.entity-modifier-name":"Modifier name","app.settings.design-tab.navigation.tabs.selected.font":"Text font and color","app.settings.layout-tab.field.unified-navigation.tabs-padding":"Background horizontal padding","app.settings.tabs.manage.title":"Menus","app.settings.design-tab.sections.section-header.bottom-divider-color":"Bottom divider opacity and color","app.settings.display-tab.pricing-options.showZero.info-content":"Applies to items and variants with a price of 0.","app.settings.design-tab.locations.title":"Location navigation","app.gfpp.settings":"Settings","app.settings.design-tab.modifiers.title":"Modifiers","app.settings.design-tab.sections.column-divider.color":"Divider opacity and color","app.settings.display-tab.entity-name":"Name","app.gfpp.manageMenus":"Manage Menus","app.settings.design-tab.items.grid-divider-width":"Divider width","app.settings.layout-tab.section.unified-navigation":"Navigation","app.settings.design-tab.items.price-font":"Price font and color"},multilingualDisabled:!1,shouldUseEssentials:!0,withErrorBoundary:!1,localeDistPath:"assets/locales"},xs=(ks=Ja,function(e){var t=e.controllerConfig,n=e.appData,i=e.flowAPI,a=e.dangerousPublicDataOverride,r=e.dangerousStylesOverride;return Ga(void 0,void 0,void 0,function(){return Ba(this,function(e){if(!i)throw new Error("Can't load controller without flowAPI.\nSeems like you are trying to optimize the controller bundle, but the viewer script is not controlled by the editor flow.");return[2,ks.call(null,{controllerConfig:t,flowAPI:i,appData:n,dangerousPublicDataOverride:a,dangerousStylesOverride:r})]})})});var ks;const Os=function(e,t,i,a,r,o){return Vr(void 0,void 0,void 0,function(){var s,u,l,c,d,p,f,m,g,h,v,b;return Ur(this,function(y){switch(y.label){case 0:return s=i.appParams,u=s.appDefinitionId,l=o(),c=a.createTranslations(t,e,{basePath:n.p}),d=function(e,t){var n=t.componentId,i=t.sentryConfig,a=t.sentryEnvironment;return e.createPanoramaClient({fullArtifactId:"com.wixpress.restaurant-menus-showcase-ooi",artifactVersion:"bbba7aed7bfb385a878922bd49c6b2f2b3eae496b24fe27e622ebe4c",componentId:n,sentryDsn:null==i?void 0:i.DSN,sentryEnvironment:a})}(i.essentials,{platform:Jr.Viewer,componentId:t.id,sentryConfig:t.sentryConfig,sentryEnvironment:"Viewer:Worker"}),[4,(A=i.platformAPIs.platformApiProvider,Fr(void 0,void 0,void 0,function(){var e,t,n,i,a,r;return jr(this,function(o){switch(o.label){case 0:return[4,Promise.all([A.getPlatformApi("location"),A.getPlatformApi("user"),A.getPlatformApi("window"),A.getPlatformApi("site"),A.getPlatformApi("seo")])];case 1:return e=o.sent(),t=e[0],n=e[1],i=e[2],a=e[3],r=e[4],[2,{locationAPI:t,userAPI:n,windowAPI:i,siteAPI:a,seoAPI:r}]}})}))];case 1:return p=y.sent(),f=p.locationAPI,m=p.windowAPI,g=p.siteAPI,h=p.seoAPI,v=new Nr({translations:c,viewerScriptFlowAPI:a,componentId:t.id,componentName:t.componentName,persistentAcrossPages:t.persistentAcrossPages,appDefinitionId:u,translationsConfig:t.translationsConfig,widgetId:t.id,biLogger:t.biLogger,controllerConfig:i,sentryConfig:t.sentryConfig,fedopsConfig:t.fedopsConfig,prepopulatedData:t.prepopulatedData,shouldUseEssentials:t.shouldUseEssentials,multilingualDisabled:t.multilingualDisabled,panoramaClient:d,locationAPI:f,windowAPI:m,siteAPI:g,seoAPI:h}),b=Promise.all([r,v.init()]).then(function(){return function(e,t,n,i){return ir(void 0,void 0,void 0,function(){var a,r;return ar(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e()];case 1:return[2,o.sent()];case 2:return a=o.sent(),r=or(a,t,n,i),[2,{_error:a,_errorId:r}];case 3:return[2]}})})}(function(){return t.method({controllerConfig:v.controllerConfig,flowAPI:v,appData:l,dangerousPublicDataOverride:Dr(v),dangerousStylesOverride:qr(v)})},v,t.appName,t.componentName)}).then(function(n){return function(e){var t=e.controller,n=e.experimentsConfig,i=e.translationsConfig,a=e.flowAPI,r=e.appName,o=e.componentName,s=e.withErrorBoundary,u=e.panoramaClient,l=e._controllerError,c=e._controllerErrorId,d=new tr({flowAPI:a,panoramaClient:u}),p=new er({flowAPI:a,panoramaClient:u,appLoadingService:d,experimentsConfig:n,translationsConfig:i});return nr(nr({},t),{updateConfig:function(e,n){a.updateControllerConfig(n),p.setPublicData(n.publicData),p.passWidgetProp("publicData"),(null==t?void 0:t.updateConfig)&&t.updateConfig(e,n)},pageReady:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return ir(void 0,void 0,void 0,function(){var n,i,d,f;return ar(this,function(m){switch(m.label){case 0:if(null===(d=null===(i=a.sentry)||void 0===i?void 0:i.setTagsContext)||void 0===d||d.call(i,{isSSR:a.environment.isSSR,isSEO:a.environment.isSEO}),p.passWidgetInitialProps(),l)throw p.passWidgetErrorProp(l,c),l;return(null==t?void 0:t.pageReady)?[4,sr(function(){return t.pageReady.apply(t,e)},a,r,o)]:[3,2];case 1:if(n=m.sent(),rr(n)&&(p.passWidgetErrorProp(n._error,n._errorId),!a.environment.isEditor||!s))throw n._error;m.label=2;case 2:return a.environment.isSSR&&(null===(f=a.fedops)||void 0===f||f.appLoaded(),null==u||u.reportLoadFinish()),[2,n]}})})}})}({controller:rr(n)?null:n,translations:v.translations,experiments:v.experiments,biLogger:v.bi,controllerConfig:i,flowAPI:v,experimentsConfig:t.experimentsConfig,translationsConfig:t.translationsConfig,appName:t.appName,componentName:t.componentName,withErrorBoundary:t.withErrorBoundary,_controllerErrorId:rr(n)?n._errorId:void 0,_controllerError:rr(n)?n._error:void 0,optionalDeps:e,panoramaClient:d})}),[2,b]}var A})})},Cs={...Ps,id:Ps.componentId,widgetType:"WIDGET_OUT_OF_IFRAME",controllerFileName:"/home/builduser/work/577998b473ec68b1/packages/restaurant-menus-showcase-ooi/src/components/Menus/controller.ts"},Ms=xs,Ls=xs})(),i})());
//# sourceMappingURL=MenusController.bundle.min.js.map